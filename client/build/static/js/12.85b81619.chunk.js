(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{166:function(e,t,a){e.exports={Form_wrapper:"Form_Form_wrapper__QqSsD",Form_page:"Form_Form_page__7wk-h",Page_form:"Form_Page_form__4SeNr",Form_group:"Form_Form_group__1phnD",Form_field:"Form_Form_field__3UJZr",Invalid:"Form_Invalid__2diAN",Page_link:"Form_Page_link__1y_3j"}},169:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(21),i=a.n(o),r=a(166),c=a.n(r);t.a=l.a.memo(function(e){var t=null,a=[c.a.Form_field];switch(e.invalid&&e.shouldValidate&&e.touched&&a.push(c.a.Invalid),e.elementType){case"input":t=l.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=l.a.createElement("textarea",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=l.a.createElement("select",{className:a.join(" "),onChange:e.changed},e.elementConfig.options.map(function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.displayValue)}));break;default:t=l.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return l.a.createElement("div",{className:c.a.Form_group},t)},i.a)},179:function(e,t,a){e.exports={Modal:"Modal_Modal__2Pcs3",Modal__header:"Modal_Modal__header__2JRRy",Modal__title:"Modal_Modal__title__2vyE-",Close:"Modal_Close__zmcgb",Modal__body:"Modal_Modal__body__1CQOc",Modal__content:"Modal_Modal__content__11UpQ",Modal__footer:"Modal_Modal__footer__2Gwm3",Hidden:"Modal_Hidden__340aA",Meal__Details__img:"Modal_Meal__Details__img__24T8R"}},184:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(179),i=a.n(o),r=function(e){var t=e.classes;return l.a.createElement("h3",{className:t.Modal__title},l.a.createElement("span",{className:"Red"},"B"),"ook ",l.a.createElement("span",{className:"Red"},"A")," Mea",l.a.createElement("span",{className:"Red"},"l")," ",e.title)},c=a(48),s=a(12),d=a(15),u=a(16),m=a(18),p=a(17),h=a(19),f=a(14),_=a(36),v=a(169),g=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={quantityControls:{quantity:{elementType:"input",elementConfig:{type:"number",name:"quantity",placeholder:"Quantity",min:0,max:a.props.meal?a.props.meal.quantity:0},value:"",validation:{required:!0},valid:!1,touched:!1},mealId:{elementType:"input",elementConfig:{type:"hidden",name:"mealId"},value:a.props.meal?a.props.meal.id:"",validation:{},valid:!0,touched:!0}},checkoutControls:{billingAddress:{elementType:"input",elementConfig:{type:"text",name:"billing-address",placeholder:"Billing Address"},value:"",validation:{required:!0},valid:!1,touched:!1},city:{elementType:"input",elementConfig:{type:"text",name:"city",placeholder:"City"},value:"",validation:{required:!0},valid:!1,touched:!1}},mealControls:{name:{elementType:"input",elementConfig:{type:"text",name:"name",placeholder:"Meal Name"},value:a.props.edittingMeal?a.props.edittingMeal.name:"",validation:{required:!0},valid:!1,touched:!1},price:{elementType:"input",elementConfig:{type:"number",name:"price",placeholder:"Meal Price",min:10},value:a.props.edittingMeal?a.props.edittingMeal.price:"",validation:{required:!0,isNumeric:!0},valid:!1,touched:!1},image:{elementType:"input",elementConfig:{type:"file",name:"image",placeholder:"Meal Image"},value:"",files:[],validation:{required:!a.props.edittingMeal},valid:!1,touched:!1}},formIsValid:!1},a.inputChangeHandler=function(e,t,n){var l,o={checkout:"checkoutControls",quantity:"quantityControls",meal:"mealControls"}[n],i=Object(_.b)(a.state[o][t],{value:e.target.value,valid:Object(_.a)(e.target.value,a.state[o][t].validation),touched:!0});i.files&&(i.files=Object(s.a)(e.target.files));var r=Object(_.b)(a.state[o],Object(c.a)({},t,i)),d=!0;for(var u in r)d=r[u].valid&&d;a.setState((l={},Object(c.a)(l,o,r),Object(c.a)(l,"formIsValid",d),l))},a.handleCheckout=function(e){e.preventDefault();var t={};for(var n in a.state.checkoutControls)t[n]=a.state.checkoutControls[n].value,"number"===a.state.checkoutControls[n].elementConfig.type&&(t[n]=Number(a.state.checkoutControls[n].value));a.props.checkout(t).then(function(){return a.props.history.push("/menu")}).catch(function(e){return console.log(e)})},a.addToOrders=function(e){e.preventDefault();var t={};for(var n in a.state.quantityControls)t[n]=a.state.quantityControls[n].value,"number"===a.state.quantityControls[n].elementConfig.type&&(t[n]=Number(a.state.quantityControls[n].value));a.props.addMealToOrders(t)},a.handleMealForm=function(e){e.preventDefault();var t=new FormData;for(var n in a.state.mealControls){var l=null;switch(a.state.mealControls[n].elementConfig.type){case"text":l=a.state.mealControls[n].value;break;case"number":l=Number(a.state.mealControls[n].value);break;case"file":l=a.state.mealControls[n].files[0]?a.state.mealControls[n].files[0]:"";break;default:l=a.state.mealControls[n].value}t.append(n,l),"image"===n&&""===l&&t.delete(n)}a.props.edittingMeal?a.props.editMeal(a.props.edittingMeal.id,t):a.props.addMeal(t)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=Object.keys(this.state.quantityControls).map(function(t){return{id:t,config:e.state.quantityControls[t]}}),a=Object.keys(this.state.checkoutControls).map(function(t){return{id:t,config:e.state.checkoutControls[t]}}),n=Object.keys(this.state.mealControls).map(function(t){return{id:t,config:e.state.mealControls[t]}}),o=this.props.classes,i=l.a.createElement("form",{action:"#",method:"post",id:"checkoutForm",onSubmit:this.handleCheckout},l.a.createElement("div",{className:o.Modal__body},a.map(function(t){return l.a.createElement(v.a,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,touched:t.config.touched,shouldValidate:t.config.validation,changed:function(a){return e.inputChangeHandler(a,t.id,"checkout")}})})),l.a.createElement("div",{className:o.Modal__footer},l.a.createElement("button",{type:"button","data-dismiss":"modal",onClick:this.props.closeModal},"Close"),l.a.createElement("button",{type:"submit"},"Checkout"))),r=this.props.meal?"".concat("http://localhost:7000","/").concat(this.props.meal.imageUrl):null;return{quantity:this.props.meal?l.a.createElement("form",{method:"post",id:"addToOrders",onSubmit:this.addToOrders},l.a.createElement("div",{className:o.Modal__body},l.a.createElement("div",null,l.a.createElement("div",{className:o.Meal__Details__img},l.a.createElement("img",{src:r,alt:"Meal"})),l.a.createElement("div",null,l.a.createElement("p",null,this.props.meal.name),l.a.createElement("p",null,"$",this.props.meal.price))),t.map(function(t){return l.a.createElement(v.a,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,touched:t.config.touched,shouldValidate:t.config.validation,changed:function(a){return e.inputChangeHandler(a,t.id,"quantity")}})})),l.a.createElement("div",{className:o.Modal__footer},l.a.createElement("button",{type:"button","data-dismiss":"modal",onClick:this.props.closeModal},"Close"),l.a.createElement("button",{type:"submit"},"Add"))):null,checkout:i,meal:l.a.createElement("form",{action:"#",method:"post",id:"mealForm",onSubmit:this.handleMealForm},l.a.createElement("div",{className:o.Modal__body},n.map(function(t){return l.a.createElement(v.a,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,touched:t.config.touched,shouldValidate:t.config.validation,changed:function(a){return e.inputChangeHandler(a,t.id,"meal")}})})),l.a.createElement("div",{className:o.Modal__footer},l.a.createElement("button",{type:"button","data-dismiss":"modal",onClick:this.props.closeModal},"Close"),l.a.createElement("button",{type:"submit"},this.props.edittingMeal?"Edit":"Add")))}[this.props.type]}}]),t}(n.Component),y=Object(f.f)(g),b={quantity:"Order",checkout:"Checkout",meal:"Meal Option"};t.a=l.a.memo(function(e){var t=e.show,a=e.type,n=e.close,o=e.meal,c=e.editMeal,s=e.edittingMeal,d=e.addMeal,u=e.orderMeal,m=e.checkout,p=[i.a.Modal,i.a.Hidden];return t&&p.pop(),t?l.a.createElement("div",{className:p.join(" "),role:"dialog"},l.a.createElement("div",{className:i.a.Modal__content},l.a.createElement("div",{className:i.a.Modal__header},l.a.createElement(r,{title:b[a],classes:i.a}),l.a.createElement("button",{type:"button",className:["Btn",i.a.Close].join(" "),"data-dismiss":"modal",onClick:n},"\xd7")),l.a.createElement(y,{classes:i.a,type:a,closeModal:n,meal:o||!1,edittingMeal:s||!1,editMeal:c,addMeal:d,addMealToOrders:u,checkout:m}))):null})},226:function(e,t,a){"use strict";a.r(t);var n=a(15),l=a(16),o=a(18),i=a(17),r=a(19),c=a(0),s=a.n(c),d=a(20),u=a(14),m=a(47),p=a(46),h=a(12),f=a(177),_=a.n(f),v=a(178),g=function(e){var t=e.meals.map(function(t){return s.a.createElement(v.a,{key:t.id,meal:t,order:e.handleQuantity,type:"menu"})});return s.a.createElement("section",{className:["page-section",_.a.Menu].join(" ")},s.a.createElement("div",{className:_.a.Menu__label},s.a.createElement("h3",null,e.catering_service)),s.a.createElement("div",{className:_.a.Menu__food},t))},y=function(e){var t=Object(h.a)(e.catererData);return t.map(function(t){return s.a.createElement(g,{key:t.catering_service,meals:t.meals,catering_service:t.catering_service,handleQuantity:e.handleQuantity})})},b=a(184),M=a(27),C=a(170),E=a(167),k=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,r=new Array(l),c=0;c<l;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).addMealToOrders=function(e){a.props.onAddToOrders(e).then(function(){return a.props.history.push("/orders")}).catch(function(e){return console.log(e)})},a}return Object(r.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchMenus()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.menus,n=e.beingOrdered,l=e.onHandleQuantity,o=e.onHideQuantityModal;return s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{bannerText:"Today's Menus",overlay:n}),s.a.createElement("main",null,t?s.a.createElement(M.a,null):t||0!==a.length?s.a.createElement(y,{catererData:a,handleQuantity:l}):s.a.createElement(C.a,{text:"Menu"})),s.a.createElement(b.a,{meal:n,type:"quantity",show:null!==n,close:o,orderMeal:this.addMealToOrders}),s.a.createElement(p.a,null))}}]),t}(c.PureComponent);t.default=Object(d.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,beingOrdered:e.menu.beingOrdered,loading:e.menu.loading,menus:e.menu.menus}},function(e){return{onHandleQuantity:function(t){return e(Object(E.a)(t))},onHideQuantityModal:function(){return e(Object(E.b)())},onFetchMenus:function(){return e(Object(E.i)())},onAddToOrders:function(t){return e(Object(E.k)(t))}}})(Object(u.f)(k))}}]);
//# sourceMappingURL=12.85b81619.chunk.js.map