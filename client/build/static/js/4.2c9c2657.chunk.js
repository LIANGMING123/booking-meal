(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{100:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(94),o=a.n(l);t.a=function(e){var t=null,a=[o.a.Form_field];switch(e.invalid&&e.shouldValidate&&e.touched&&a.push(o.a.Invalid),e.elementType){case"input":t=r.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=r.a.createElement("textarea",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=r.a.createElement("select",{className:a.join(" "),onChange:e.changed},e.elementConfig.options.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.displayValue)}));break;default:t=r.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return r.a.createElement("div",{className:o.a.Form_group},t)}},102:function(e,t,a){"use strict";var n=a(15),r=a(16),l=a(18),o=a(17),i=a(19),c=a(0),s=a.n(c);t.a=function(e,t){return function(a){function c(){var e,t;Object(n.a)(this,c);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(l.a)(this,(e=Object(o.a)(c)).call.apply(e,[this].concat(r)))).state={error:null},t.errorConfirmedHandler=function(){t.setState({error:null})},t}return Object(i.a)(c,a),Object(r.a)(c,[{key:"componentWillMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.request.use(function(t){if(e.setState({error:null}),"http://localhost:7000/api/v1/"===t.baseURL&&!t.headers.Authorization){var a=localStorage.getItem("token");a&&(t.headers.Authorization=a)}return t}),this.resInterceptor=t.interceptors.response.use(function(e){return e},function(t){e.setState({error:t})})}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){return s.a.createElement(e,this.props)}}]),c}(c.Component)}},105:function(e,t,a){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a.d(t,"a",function(){return n})},106:function(e,t,a){e.exports={Modal:"Modal_Modal__2Pcs3",Modal__header:"Modal_Modal__header__2JRRy",Modal__title:"Modal_Modal__title__2vyE-",Close:"Modal_Close__zmcgb",Modal__body:"Modal_Modal__body__1CQOc",Modal__content:"Modal_Modal__content__11UpQ",Modal__footer:"Modal_Modal__footer__2Gwm3",Hidden:"Modal_Hidden__340aA",Meal__Details__img:"Modal_Meal__Details__img__24T8R"}},107:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(108),o=a.n(l),i=a(109),c=a.n(i);t.a=function(e){var t="Empty",a=null;return e.menu&&(t="Empty Menu",a=r.a.createElement("span",{className:"Red"},"Menu")),e.orders&&(t="Empty Orders",a=r.a.createElement("span",{className:"Red"},"Orders")),r.a.createElement("div",{className:o.a.Empty},r.a.createElement("img",{src:c.a,alt:t}),r.a.createElement("p",{className:o.a.EmptyText},"Empty ",a))}},108:function(e,t,a){e.exports={Empty:"Empty_Empty__3FLfD",EmptyText:"Empty_EmptyText__U9qLT"}},109:function(e,t,a){e.exports=a.p+"static/media/empty.093f05ea.svg"},110:function(e,t,a){"use strict";var n=a(105),r=a(15),l=a(16),o=a(18),i=a(17),c=a(19),s=a(0),u=a.n(s),m=a(106),d=a.n(m),_=function(e){var t=e.classes;return u.a.createElement("h3",{className:t.Modal__title},u.a.createElement("span",{className:"Red"},"B"),"ook",u.a.createElement("span",{className:"Red"},"A"),"Mea",u.a.createElement("span",{className:"Red"},"l")," ",e.title)},p=a(39),f=a(2),h=a(100),v=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={quantityControls:{quantity:{elementType:"input",elementConfig:{type:"number",name:"quantity",placeholder:"Quantity",min:0,max:a.props.meal?a.props.meal.quantity:0},value:"",validation:{required:!0},valid:!1,touched:!1},mealId:{elementType:"input",elementConfig:{type:"hidden",name:"mealId"},value:a.props.meal?a.props.meal.id:"",validation:{},valid:!0,touched:!0}},checkoutControls:{billingAddress:{elementType:"input",elementConfig:{type:"text",name:"billing-address",placeholder:"Billing Address"},value:"",validation:{required:!0},valid:!1,touched:!1},city:{elementType:"input",elementConfig:{type:"text",name:"city",placeholder:"City"},value:"",validation:{required:!0},valid:!1,touched:!1}},formIsValid:!1},a.inputChangeHandler=function(e,t,n){var r,l="checkout"===n?"checkoutControls":"quantityControls",o=Object(f.b)(a.state[l][t],{value:e.target.value,valid:Object(f.a)(e.target.value,a.state[l][t].validation),touched:!0}),i=Object(f.b)(a.state[l],Object(p.a)({},t,o)),c=!0;for(var s in i)c=i[s].valid&&c;a.setState((r={},Object(p.a)(r,l,i),Object(p.a)(r,"formIsValid",c),r))},a.addToOrders=function(e){e.preventDefault();var t={};for(var n in a.state.quantityControls)t[n]=a.state.quantityControls[n].value,"number"===a.state.quantityControls[n].elementConfig.type&&(t[n]=Number(a.state.quantityControls[n].value));a.props.addMealToOrders(t)},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=Object.keys(this.state.quantityControls).map(function(t){return{id:t,config:e.state.quantityControls[t]}}),a=Object.keys(this.state.checkoutControls).map(function(t){return{id:t,config:e.state.checkoutControls[t]}}),n=this.props.classes,r=u.a.createElement("form",{action:"#",method:"post",id:"checkoutForm"},u.a.createElement("div",{className:n.Modal__body},a.map(function(t){return u.a.createElement(h.a,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,touched:t.config.touched,shouldValidate:t.config.validation,changed:function(a){return e.inputChangeHandler(a,t.id,"checkout")}})})),u.a.createElement("div",{className:n.Modal__footer},u.a.createElement("button",{type:"button","data-dismiss":"modal",onClick:this.props.closeModal},"Close"),u.a.createElement("button",{type:"submit"},"Checkout"))),l=this.props.meal?"".concat("http://localhost:7000/").concat(this.props.meal.imageUrl):null;return{quantity:this.props.meal?u.a.createElement("form",{method:"post",id:"addToOrders",onSubmit:this.addToOrders},u.a.createElement("div",{className:n.Modal__body},u.a.createElement("div",null,u.a.createElement("div",{className:n.Meal__Details__img},u.a.createElement("img",{src:l,alt:"Meal"})),u.a.createElement("div",null,u.a.createElement("p",null,this.props.meal.name),u.a.createElement("p",null,"$",this.props.meal.price))),t.map(function(t){return u.a.createElement(h.a,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,touched:t.config.touched,shouldValidate:t.config.validation,changed:function(a){return e.inputChangeHandler(a,t.id,"quantity")}})})),u.a.createElement("div",{className:n.Modal__footer},u.a.createElement("button",{type:"button","data-dismiss":"modal",onClick:this.props.closeModal},"Close"),u.a.createElement("button",{type:"submit"},"Add"))):null,checkout:r}[this.props.type]}}]),t}(s.Component),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={modal:[d.a.Modal,d.a.Hidden]},a}return Object(c.a)(t,e),Object(l.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.show!==this.props.show}},{key:"render",value:function(){var e=null,t=Object(n.a)(this.state.modal);return this.props.show&&(t.pop(),e=u.a.createElement("div",{className:t.join(" "),role:"dialog"},u.a.createElement("div",{className:d.a.Modal__content},u.a.createElement("div",{className:d.a.Modal__header},u.a.createElement(_,{title:{quantity:"Order",checkout:"Checkout"}[this.props.type],classes:d.a}),u.a.createElement("button",{type:"button",className:["Btn",d.a.Close].join(" "),"data-dismiss":"modal",onClick:this.props.close},"\xd7")),u.a.createElement(v,{classes:d.a,type:this.props.type,closeModal:this.props.close,meal:null!==this.props.meal&&this.props.meal,addMealToOrders:this.props.orderMeal})))),e}}]),t}(s.Component);t.a=y},128:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a(16),l=a(18),o=a(17),i=a(19),c=a(0),s=a.n(c),u=a(20),m=a(37),d=a(36),_=a(105),p=a(95),f=a.n(p),h=a(96),v=function(e){var t=e.meals.map(function(t){return s.a.createElement(h.a,{key:t.id,meal:t,order:e.handleQuantity,type:"menu"})});return s.a.createElement("section",{className:["page-section",f.a.Menu].join(" ")},s.a.createElement("div",{className:f.a.Menu__label},s.a.createElement("h3",null,e.catering_service)),s.a.createElement("div",{className:f.a.Menu__food},t))},y=function(e){var t=Object(_.a)(e.catererData);return t.map(function(t){return s.a.createElement(v,{key:t.catering_service,meals:t.meals,catering_service:t.catering_service,handleQuantity:e.handleQuantity})})},E=a(110),b=a(25),M=a(38),g=a(7),C=a(102),O=a(107),N=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).addMealToOrders=function(e){a.props.onAddToOrders(e),console.log(a.props.orderResCode),200===a.props.orderResCode&&(a.props.onResetOrderResCode(),a.props.history.push("/orders"))},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchMenus()}},{key:"render",value:function(){var e=s.a.createElement(y,{catererData:this.props.menus,handleQuantity:this.props.onHandleQuantity});return this.props.loading&&(e=s.a.createElement(b.a,null)),this.props.loading||0!==this.props.menus.length||(e=s.a.createElement(O.a,{menu:!0})),s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{bannerText:"Today's Menus",authenticated:this.props.userAuthenticated,overlay:this.props.beingOrdered}),s.a.createElement("main",null,e),s.a.createElement(E.a,{meal:this.props.beingOrdered,type:"quantity",show:null!==this.props.beingOrdered,close:this.props.onHideQuantityModal,orderMeal:this.addMealToOrders}),s.a.createElement(d.a,null))}}]),t}(c.Component);t.default=Object(u.b)(function(e){var t=[];return e.menu.menus.forEach(function(e){t.push({id:e.id,catererId:e.catererId,catering_service:e.caterer.catering_service,meals:JSON.parse(e.meals)})}),{userAuthenticated:e.auth.userAuthenticated,beingOrdered:e.menu.beingOrdered,token:e.auth.token,loading:e.menu.loading,menus:t,orderResCode:e.orders.lastReq}},function(e){return{onHandleQuantity:function(t){return e(M.a(t))},onHideQuantityModal:function(){return e(M.b())},onFetchMenus:function(){return e(M.c())},onAddToOrders:function(t){return e(M.d(t))},onResetOrderResCode:function(){return e(M.i())}}})(Object(C.a)(N,g.a))},94:function(e,t,a){e.exports={Form_wrapper:"Form_Form_wrapper__QqSsD",Form_page:"Form_Form_page__7wk-h",Page_form:"Form_Page_form__4SeNr",Form_group:"Form_Form_group__1phnD",Form_field:"Form_Form_field__3UJZr",Invalid:"Form_Invalid__2diAN",Page_link:"Form_Page_link__1y_3j"}},95:function(e,t,a){e.exports={Menu:"Menu_Menu__1Ul2_",Menu__label:"Menu_Menu__label__1rxRj",Menu__food:"Menu_Menu__food__1N5xH",Right__Btn__lg:"Menu_Right__Btn__lg__2AJxY"}},96:function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(97),o=a.n(l);t.a=function(e){var t={menu:r.a.createElement("div",{className:o.a.Menu__food__item__details},r.a.createElement("div",{className:o.a.Meal__info},r.a.createElement("p",null,e.meal.name),r.a.createElement("p",null,"$",e.meal.price.toFixed(2))),r.a.createElement("div",null,r.a.createElement("button",{className:o.a.Card__btn,onClick:function(){return e.order(e.meal.id)}},"Order"))),orders:r.a.createElement("div",{className:o.a.Menu__food__item__details},r.a.createElement("div",{className:o.a.Meal__info},r.a.createElement("p",null,e.meal.name),r.a.createElement("p",null,"$",e.meal.price.toFixed(2)),r.a.createElement("p",null,r.a.createElement("button",{className:o.a.Tiny__btn,onClick:function(){return e.decreaseQuantity(e.meal.orderId)}},"-")," ",e.meal.quantity," ",r.a.createElement("button",{className:o.a.Tiny__btn,onClick:function(){return e.increaseQuantity(e.meal.orderId)}},"+"))),r.a.createElement("div",{className:o.a.Meal__btn},r.a.createElement("button",{className:o.a.Card__btn,onClick:function(){return e.deleteOrder(e.meal.orderId)}},"Delete"))),menuMeals:r.a.createElement("div",{className:o.a.Menu__food__item__details},r.a.createElement("div",{className:o.a.Meal__info},r.a.createElement("p",null,e.meal.name),r.a.createElement("p",null,"$",e.meal.price.toFixed(2)),r.a.createElement("p",null,"Quantity: ",e.meal.quantity))),mealOptions:r.a.createElement("div",{className:o.a.Menu__food__item__details},r.a.createElement("div",{className:o.a.Meal__info},r.a.createElement("p",null,e.meal.name),r.a.createElement("p",null,"$",e.meal.price.toFixed(2))),r.a.createElement("div",{className:o.a.Meal__btn},r.a.createElement("button",{className:o.a.Card__btn,onClick:e.showEditMealModal},"Edit")),r.a.createElement("div",{className:o.a.Meal__btn},r.a.createElement("button",{className:o.a.Card__btn,onClick:e.removeMealFromMenu},"Delete"))),manageMenu:r.a.createElement("div",{className:o.a.Menu__food__item__details},r.a.createElement("div",{className:o.a.Meal__info},r.a.createElement("p",null,e.meal.name),r.a.createElement("p",null,"$",e.meal.price.toFixed(2)),r.a.createElement("p",null,r.a.createElement("button",{className:o.a.Tiny__btn,onClick:function(){return e.decrease(e.meal.id)}},"-")," ",e.meal.quantity||0," ",r.a.createElement("button",{className:o.a.Tiny__btn,onClick:function(){return e.increase(e.meal.id)}},"+"))))},a="".concat("http://localhost:7000/").concat(e.meal.imageUrl);return r.a.createElement("article",{className:o.a.Menu__food__item},e.meal.quantity>0&&"manageMenu"===e.type?r.a.createElement("div",{className:"ribbon ribbon-top-left"},r.a.createElement("span",null,"Selected")):null,r.a.createElement("div",{className:o.a.Menu__food__item__img},r.a.createElement("img",{src:a,alt:"Meal"})),t[e.type])}},97:function(e,t,a){e.exports={Menu__food__item:"Meal_Menu__food__item__2OJ21",Menu__food__item__img:"Meal_Menu__food__item__img__1Yo1D",Menu__food__item__details:"Meal_Menu__food__item__details__2pvx9",Meal__info:"Meal_Meal__info__2jhlT",Card__btn:"Meal_Card__btn__2rLEQ",Tiny__btn:"Meal_Tiny__btn__2poCu",Cart__container:"Meal_Cart__container__2_1QQ",Meal__btn:"Meal_Meal__btn__nk-Jf"}}}]);
//# sourceMappingURL=4.2c9c2657.chunk.js.map