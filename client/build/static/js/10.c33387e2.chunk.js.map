{"version":3,"sources":["hoc/withHttpHandler/withHttpHandler.js","components/UI/Empty/Empty.js","components/UI/Empty/Empty.module.css","assets/img/empty.svg","components/Table/Table.module.css","components/Table/TableHead/TableHeadItem/TableHeadItem.js","components/Table/TableHead/TableHead.js","components/Table/TableBody/TableRow/TableRow.js","components/Table/TableBody/TableBody.js","components/Table/TableFoot/TableFootItem/TableFootItem.js","components/Table/TableFoot/TableFoot.js","components/Table/OrderTable/OrderTable.js","containers/Caterer/CatererTodaysOrders/CatererTodaysOrders.js"],"names":["withHttpHandler","WrappedComponent","client","_Component","_temp","_getPrototypeOf2","_this","Object","C_Users_TIMI_OLUMOFIN_Desktop_Projects_book_a_meal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_len","arguments","length","args","Array","_key","C_Users_TIMI_OLUMOFIN_Desktop_Projects_book_a_meal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_TIMI_OLUMOFIN_Desktop_Projects_book_a_meal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","apply","concat","state","error","errorConfirmedHandler","setState","C_Users_TIMI_OLUMOFIN_Desktop_Projects_book_a_meal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_Users_TIMI_OLUMOFIN_Desktop_Projects_book_a_meal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","_this2","reqInterceptor","interceptors","request","use","req","process","baseURL","headers","Authorization","token","localStorage","getItem","resInterceptor","response","res","eject","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","props","Component","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_Empty_module_css__WEBPACK_IMPORTED_MODULE_1__","_Empty_module_css__WEBPACK_IMPORTED_MODULE_1___default","_assets_img_empty_svg__WEBPACK_IMPORTED_MODULE_2__","_assets_img_empty_svg__WEBPACK_IMPORTED_MODULE_2___default","empty","alt","text","span","className","classes","Empty","src","emptySvg","EmptyText","module","exports","p","Table","Table__head","Table__row","Table__foot","Table__head__list","Table__row__list","Table__foot__list","Table__head__list__item","Table__row__list__item","Table__foot__list__item","Order__summary__list","Order__summary__list__item","Dash","tableHeadItem","react_default","tableHead","headItems","rows","map","row","TableHeadItem","tableRow","meals","order","meal","Fragment","id","name","quantity","user","caterer","date","total","toFixed","tableBody","orderRows","orders","TableRow","tableFootItem","li","tableFoot","footItems","TableFootItem","orderTable","reduce","acc","todaysOrders","splice","join","TableHead","TableBody","TableFoot","CatererTodaysOrders","onFetchOrders","_components_Table_OrderTable_OrderTable__WEBPACK_IMPORTED_MODULE_10__","loading","_components_UI_Loading_Loading__WEBPACK_IMPORTED_MODULE_11__","_components_UI_Empty_Empty__WEBPACK_IMPORTED_MODULE_12__","_components_Header_Header__WEBPACK_IMPORTED_MODULE_8__","bannerText","authenticated","catererAuthenticated","_components_Footer_Footer__WEBPACK_IMPORTED_MODULE_9__","connect","catererOrders","forEach","month","Date","getMonth","today","getFullYear","padStart","getDate","createdAt","push","JSON","parse","auth","dispatch","actions"],"mappings":"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","file":"static/js/10.c33387e2.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nconst withHttpHandler = (WrappedComponent, client) => {\r\n  const { REACT_APP_API_URL: API_URL } = process.env;\r\n\r\n  return class extends Component {\r\n    state = {\r\n      error: null\r\n    };\r\n\r\n    componentWillMount() {\r\n      this.reqInterceptor = client.interceptors.request.use(req => {\r\n        this.setState({ error: null });\r\n        if (req.baseURL === API_URL && !req.headers.Authorization) {\r\n          const token = !req.headers['X-Req']\r\n            ? localStorage.getItem('token')\r\n            : localStorage.getItem('c_token');\r\n          if (token) {\r\n            req.headers.Authorization = token;\r\n          }\r\n        }\r\n        return req;\r\n      });\r\n      this.resInterceptor = client.interceptors.response.use(\r\n        res => res,\r\n        error => {\r\n          this.setState({ error });\r\n        }\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      client.interceptors.request.eject(this.reqInterceptor);\r\n      client.interceptors.response.eject(this.resInterceptor);\r\n    }\r\n\r\n    errorConfirmedHandler = () => {\r\n      this.setState({ error: null });\r\n    };\r\n\r\n    render() {\r\n      return <WrappedComponent {...this.props} />;\r\n    }\r\n  };\r\n};\r\n\r\nexport default withHttpHandler;\r\n","import React from 'react';\r\nimport classes from './Empty.module.css';\r\nimport emptySvg from '../../../assets/img/empty.svg'\r\n\r\nconst empty = (props) => {\r\n    const alt = 'Empty ' + props.text;\r\n    let span = <span className=\"Red\">{props.text}</span>;\r\n    return (\r\n        <div className={classes.Empty}>\r\n            <img src={emptySvg} alt={alt} />\r\n            <p className={classes.EmptyText}>Empty {span}</p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default empty;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Empty\":\"Empty_Empty__3FLfD\",\"EmptyText\":\"Empty_EmptyText__U9qLT\"};","module.exports = __webpack_public_path__ + \"static/media/empty.093f05ea.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Table\":\"Table_Table__WbckG\",\"Table__head\":\"Table_Table__head__2lWVY\",\"Table__row\":\"Table_Table__row__rNsSZ\",\"Table__foot\":\"Table_Table__foot__2PKEA\",\"Table__head__list\":\"Table_Table__head__list__3BO49\",\"Table__row__list\":\"Table_Table__row__list__1Swr2\",\"Table__foot__list\":\"Table_Table__foot__list__QeOP1\",\"Table__head__list__item\":\"Table_Table__head__list__item__13D6e\",\"Table__row__list__item\":\"Table_Table__row__list__item__3D7rH\",\"Table__foot__list__item\":\"Table_Table__foot__list__item__10wdh\",\"Order__summary__list\":\"Table_Order__summary__list__3h_6e\",\"Order__summary__list__item\":\"Table_Order__summary__list__item__1elsG\",\"Dash\":\"Table_Dash__OiJKK\"};","import React from 'react';\r\n\r\nconst tableHeadItem = (props) => {\r\n  return (\r\n    <li className={props.classes.Table__head__list__item}>{props.text}</li>\r\n  );\r\n}\r\n\r\nexport default tableHeadItem;","import React from 'react';\r\nimport TableHeadItem from './TableHeadItem/TableHeadItem';\r\nconst tableHead = props => {\r\n  const headItems = props.rows.map(row => {\r\n    return <TableHeadItem key={row} classes={props.classes} text={row} />;\r\n  });\r\n  return (\r\n    <div className={props.classes.Table__head}>\r\n      <ul className={props.classes.Table__head__list}>\r\n        { headItems }\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default tableHead;\r\n","import React from 'react';\r\n\r\nconst tableRow = (props) => {\r\n  const meals = props.order.meals.map(meal => {\r\n    return (\r\n      <React.Fragment key={meal.id}>\r\n        <li className={props.classes.Order__summary__list__item}>\r\n          <p>{meal.name}</p>\r\n          <span className={props.classes.Dash}>-</span>\r\n          <p>{meal.quantity}</p>\r\n        </li>\r\n      </React.Fragment>\r\n    );\r\n  });\r\n  return (\r\n    <div className={props.classes.Table__row}>\r\n      <ul className={props.classes.Table__row__list}>\r\n        <li className={props.classes.Table__row__list__item}>{props.order.id}</li>\r\n        <li className={props.classes.Table__row__list__item}>{props.order.user || props.order.caterer}</li>\r\n        <li className={props.classes.Table__row__list__item}>\r\n          <ul className={props.classes.Order__summary__list}>\r\n            { meals }\r\n          </ul>\r\n        </li>\r\n        <li className={props.classes.Table__row__list__item}>{props.order.date}</li>\r\n        <li className={props.classes.Table__row__list__item}>${props.order.total.toFixed(2)}</li>\r\n      </ul>\r\n    </div>\r\n  );  \r\n}\r\n\r\nexport default tableRow;","import React from 'react';\r\nimport TableRow from './TableRow/TableRow';\r\n\r\nconst tableBody = (props) => {\r\n  const orderRows = props.orders.map(order => {\r\n    return <TableRow classes={props.classes} order={order} key={order.id}/>\r\n  });\r\n  return (\r\n    <div>\r\n      { orderRows }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default tableBody;","import React from 'react';\r\n\r\nconst tableFootItem = props => {\r\n  let li = <li className={props.classes.Table__foot__list__item}>{props.text}</li>;\r\n  if (typeof props.text === 'object') {\r\n    li = <li className={props.classes.Table__foot__list__item}>${props.text.total.toFixed(2)}</li>;\r\n  }\r\n  return li;\r\n};\r\n\r\nexport default tableFootItem;\r\n","import React from 'react';\r\nimport TableFootItem from './TableFootItem/TableFootItem';\r\nconst tableFoot = props => {\r\n  const footItems = props.rows.map(row => {\r\n    return <TableFootItem key={row} classes={props.classes} text={row} />;\r\n  });\r\n  return (\r\n    <div className={props.classes.Table__foot}>\r\n      <ul className={props.classes.Table__foot__list}>\r\n        {footItems}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default tableFoot;","import React from 'react';\r\nimport classes from '../Table.module.css';\r\nimport TableHead from '../TableHead/TableHead';\r\nimport TableBody from '../TableBody/TableBody';\r\nimport TableFoot from '../TableFoot/TableFoot';\r\n\r\nconst orderTable = props => {\r\n  const headItems = ['#ID', 'Caterer', 'Order Summary', 'Order Date', 'Order Total'];\r\n  const total = props.orders.reduce((acc, order) => {\r\n    return acc + order.total;\r\n  },0);\r\n  const footItems = ['Total', {total}];\r\n  if(props.todaysOrders) headItems.splice(3,1);\r\n  if (props.caterer) headItems[1] = 'Customer Name';\r\n  return (\r\n    <section className={['page-section', classes.Table].join(' ')}>\r\n      <TableHead classes={classes} rows={headItems} />\r\n      <TableBody classes={classes} orders={props.orders} />\r\n      {props.todaysOrders ? <TableFoot classes={classes} rows={footItems} />: null }\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default orderTable;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../../../store/action/index';\r\nimport Header from '../../../components/Header/Header';\r\nimport Footer from '../../../components/Footer/Footer';\r\nimport OrderTable from '../../../components/Table/OrderTable/OrderTable';\r\nimport Loading from '../../../components/UI/Loading/Loading';\r\nimport Empty from '../../../components/UI/Empty/Empty';\r\nimport client from '../../../shared/axios-client';\r\nimport withHttpHandler from '../../../hoc/withHttpHandler/withHttpHandler';\r\n\r\nclass CatererTodaysOrders extends Component {\r\n  componentDidMount() {\r\n    this.props.onFetchOrders();\r\n  }\r\n\r\n  render() {\r\n    let orders = <OrderTable orders={this.props.orders} caterer todaysOrders />;\r\n    if (this.props.loading) {\r\n      orders = <Loading />;\r\n    }\r\n    if (!this.props.loading && this.props.orders.length === 0) {\r\n      orders = <Empty text=\"Orders\" />;\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        <Header\r\n          bannerText=\"Todays Order Summary\"\r\n          authenticated={this.props.catererAuthenticated}\r\n          caterer\r\n        />\r\n        <main>{orders}</main>\r\n        <Footer />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  const orders = [];\r\n  state.orders.catererOrders.forEach(order => {\r\n    const month = `${new Date().getMonth() + 1}`;\r\n    const today = `${new Date().getFullYear()}-${month.padStart(2, '0')}-${new Date().getDate()}`;\r\n    if (order.createdAt === today) {\r\n      orders.push({\r\n        id: order.id,\r\n        user: order.user.name,\r\n        meals: JSON.parse(order.order),\r\n        total: order.total\r\n      });\r\n    }\r\n  });\r\n  return {\r\n    catererAuthenticated: state.auth.catererAuthenticated,\r\n    loading: state.orders.loading,\r\n    orders\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onFetchOrders: () => dispatch(actions.orderFetchOrders())\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withHttpHandler(CatererTodaysOrders, client));\r\n"],"sourceRoot":""}