{"version":3,"sources":["components/Forms/FormHeadText/FormHeadText.js","components/Forms/Input/Input.js","containers/UserLogin/UserLogin.js","components/Forms/Form.module.css","components/Forms/FormWrapper/FormWrapper.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","formHeadText","props","a","createElement","className","user","charAt","toUpperCase","slice","type","_Form_module_css__WEBPACK_IMPORTED_MODULE_1__","_Form_module_css__WEBPACK_IMPORTED_MODULE_1___default","input","inputElement","inputClasses","classes","Form_field","invalid","shouldValidate","touched","push","Invalid","elementType","Object","assign","join","elementConfig","value","onChange","changed","options","map","option","key","displayValue","Form_group","UserLogin","state","controls","email","name","placeholder","validation","required","isEmail","valid","password","minLength","formIsValid","handleUserLogin","e","preventDefault","formData","formElementId","_this","onUserSignIn","inputChangeHandler","inputId","formElement","updateObject","target","checkValidity","form","C_Users_TIMI_OLUMOFIN_Desktop_Projects_book_a_meal_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","setState","this","loading","onSetAuthRedirect","_this2","formElements","keys","id","config","authRedirect","userAuthenticated","react__WEBPACK_IMPORTED_MODULE_6___default","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","to","authRedirectPath","_components_Forms_FormWrapper_FormWrapper__WEBPACK_IMPORTED_MODULE_11__","action","method","Page_form","onSubmit","_components_Forms_FormHeadText_FormHeadText__WEBPACK_IMPORTED_MODULE_12__","_components_Forms_Input_Input__WEBPACK_IMPORTED_MODULE_14__","Page_link","react_router_dom__WEBPACK_IMPORTED_MODULE_8__","_components_UI_Loading_Loading__WEBPACK_IMPORTED_MODULE_13__","Fragment","Component","connect","auth","dispatch","data","actions","path","module","exports","Form_wrapper","Form_page","formWrapper","children"],"mappings":"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","file":"static/js/8.247df88d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst formHeadText = props => (\r\n  <h3>\r\n    <span className=\"Red\">B</span>ook <span className=\"Red\">A</span> Mea<span className=\"Red\">l</span> {props.user.charAt(0).toUpperCase() + props.user.slice(1)}{' '}\r\n    <span className=\"Red\">{props.type.charAt(0).toUpperCase() + props.type.slice(1)}</span>\r\n  </h3>\r\n);\r\n\r\nexport default formHeadText;\r\n","import React from \"react\";\r\nimport classes from \"../Form.module.css\";\r\n\r\nconst input = props => {\r\n    let inputElement = null;\r\n    const inputClasses = [classes.Form_field];\r\n    if(props.invalid && props.shouldValidate && props.touched) {\r\n        inputClasses.push(classes.Invalid);\r\n    }\r\n\tswitch (props.elementType) {\r\n\t\tcase \"input\":\r\n\t\t\tinputElement = (\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName={inputClasses.join(' ')}\r\n\t\t\t\t\t{...props.elementConfig}\r\n\t\t\t\t\tvalue={props.value}\r\n\t\t\t\t\tonChange={props.changed}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t\tbreak;\r\n\t\tcase \"textarea\":\r\n\t\t\tinputElement = (\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tclassName={inputClasses.join(' ')}\r\n\t\t\t\t\t{...props.elementConfig}\r\n\t\t\t\t\tvalue={props.value}\r\n\t\t\t\t\tonChange={props.changed}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t\tbreak;\r\n\t\tcase \"select\":\r\n\t\t\tinputElement = (\r\n\t\t\t\t<select className={inputClasses.join(' ')} onChange={props.changed}>\r\n\t\t\t\t\t{props.elementConfig.options.map(option => (\r\n\t\t\t\t\t\t<option key={option.value} value={option.value}>\r\n\t\t\t\t\t\t\t{option.displayValue}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tinputElement = (\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName={inputClasses.join(' ')}\r\n\t\t\t\t\t{...props.elementConfig}\r\n\t\t\t\t\tvalue={props.value}\r\n\t\t\t\t\tonChange={props.changed}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t}\r\n\treturn (\r\n\t\t<div className={classes.Form_group}>\r\n\t\t\t{inputElement}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default input;\r\n","import React, { Component } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport classes from '../../components/Forms/Form.module.css';\r\nimport FormWrapper from '../../components/Forms/FormWrapper/FormWrapper';\r\nimport FormHeadText from '../../components/Forms/FormHeadText/FormHeadText';\r\nimport Loading from '../../components/UI/Loading/Loading';\r\nimport Input from '../../components/Forms/Input/Input';\r\nimport { updateObject, checkValidity } from '../../shared/utility';\r\nimport * as actions from '../../store/action/index';\r\n\r\nclass UserLogin extends Component {\r\n  state = {\r\n    controls: {\r\n      email: {\r\n        elementType: 'input',\r\n        elementConfig: {\r\n          type: 'email',\r\n          name: 'email',\r\n          placeholder: 'Your Email'\r\n        },\r\n        value: '',\r\n        validation: {\r\n          required: true,\r\n          isEmail: true\r\n        },\r\n        valid: false,\r\n        touched: false\r\n      },\r\n      password: {\r\n        elementType: 'input',\r\n        elementConfig: {\r\n          type: 'password',\r\n          name: 'password',\r\n          placeholder: 'Password'\r\n        },\r\n        value: '',\r\n        validation: {\r\n          required: true,\r\n          minLength: 7\r\n        },\r\n        valid: false,\r\n        touched: false\r\n      }\r\n    },\r\n    formIsValid: false\r\n  };\r\n  handleUserLogin = e => {\r\n    e.preventDefault();\r\n    const formData = {};\r\n    for (let formElementId in this.state.controls) {\r\n      formData[formElementId] = this.state.controls[formElementId].value;\r\n    }\r\n    this.props.onUserSignIn(formData);\r\n  };\r\n\r\n  inputChangeHandler = (e, inputId) => {\r\n    const formElement = updateObject(this.state.controls[inputId], {\r\n      value: e.target.value,\r\n      valid: checkValidity(e.target.value, this.state.controls[inputId].validation),\r\n      touched: true\r\n    });\r\n\r\n    const form = updateObject(this.state.controls, {\r\n      [inputId]: formElement\r\n    });\r\n\r\n    let formIsValid = true;\r\n    for (let inputId in form) {\r\n      formIsValid = form[inputId].valid && formIsValid;\r\n    }\r\n\r\n    this.setState({ controls: form, formIsValid });\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (!this.props.loading) {\r\n      this.props.onSetAuthRedirect('/menu');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const formElements = Object.keys(this.state.controls).map(key => {\r\n      return {\r\n        id: key,\r\n        config: this.state.controls[key]\r\n      };\r\n    });\r\n    let authRedirect = null;\r\n\r\n    if (this.props.userAuthenticated) {\r\n      authRedirect = <Redirect to={this.props.authRedirectPath} />;\r\n    }\r\n    let form = (\r\n      <FormWrapper>\r\n          <form\r\n            action=\"#\"\r\n            method=\"post\"\r\n            className={classes.Page_form}\r\n            id=\"loginForm\"\r\n            onSubmit={this.handleUserLogin}\r\n          >\r\n            <FormHeadText user=\"user\" type=\"login\" />\r\n            {formElements.map(formElement => (\r\n              <Input\r\n                key={formElement.id}\r\n                elementType={formElement.config.elementType}\r\n                elementConfig={formElement.config.elementConfig}\r\n                value={formElement.config.value}\r\n                invalid={!formElement.config.valid}\r\n                touched={formElement.config.touched}\r\n                shouldValidate={formElement.config.validation}\r\n                changed={e => this.inputChangeHandler(e, formElement.id)}\r\n              />\r\n            ))}\r\n            <button type=\"submit\">Login</button>\r\n            <p className={classes.Page_link}>\r\n              No Account? <Link to=\"/register\">Register</Link>\r\n            </p>\r\n            <p className={classes.Page_link}>\r\n              Back to Home? <Link to=\"/\">Click Here</Link>\r\n            </p>\r\n          </form>\r\n        </FormWrapper>\r\n    );\r\n\r\n    if(this.props.loading){\r\n      form = <Loading />;\r\n    }\r\n    return (\r\n      <React.Fragment>\r\n        {authRedirect}\r\n        {form}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loading: state.auth.loading,\r\n    userAuthenticated: state.auth.userAuthenticated,\r\n    authRedirectPath: state.auth.authRedirectPath\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onUserSignIn: data => dispatch(actions.userSignIn(data)),\r\n    onSetAuthRedirect: path => dispatch(actions.setAuthRedirect(path))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(UserLogin);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form_wrapper\":\"Form_Form_wrapper__QqSsD\",\"Form_page\":\"Form_Form_page__7wk-h\",\"Page_form\":\"Form_Page_form__4SeNr\",\"Form_group\":\"Form_Form_group__1phnD\",\"Form_field\":\"Form_Form_field__3UJZr\",\"Invalid\":\"Form_Invalid__2diAN\",\"Page_link\":\"Form_Page_link__1y_3j\"};","import React from 'react';\r\nimport classes from '../Form.module.css';\r\n\r\nconst formWrapper = (props) => (\r\n  <main className={classes.Form_wrapper}>\r\n    <section className={classes.Form_page}>\r\n      { props.children }\r\n    </section>\r\n  </main>\r\n);\r\n\r\nexport default formWrapper;"],"sourceRoot":""}