(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,n,t){"use strict";t.d(n,"y",function(){return r}),t.d(n,"z",function(){return a}),t.d(n,"x",function(){return o}),t.d(n,"B",function(){return c}),t.d(n,"C",function(){return u}),t.d(n,"A",function(){return i}),t.d(n,"v",function(){return s}),t.d(n,"w",function(){return l}),t.d(n,"d",function(){return d}),t.d(n,"e",function(){return m}),t.d(n,"b",function(){return _}),t.d(n,"c",function(){return f}),t.d(n,"a",function(){return p}),t.d(n,"g",function(){return b}),t.d(n,"h",function(){return g}),t.d(n,"f",function(){return E}),t.d(n,"u",function(){return h}),t.d(n,"p",function(){return O}),t.d(n,"q",function(){return v}),t.d(n,"o",function(){return R}),t.d(n,"s",function(){return y}),t.d(n,"t",function(){return N}),t.d(n,"r",function(){return j}),t.d(n,"j",function(){return M}),t.d(n,"k",function(){return S}),t.d(n,"i",function(){return T}),t.d(n,"m",function(){return D}),t.d(n,"n",function(){return A}),t.d(n,"l",function(){return L});var r="USER_SIGN_IN_START",a="USER_SIGN_IN_SUCCESS",o="USER_SIGN_IN_FAILED",c="USER_SIGN_UP_START",u="USER_SIGN_UP_SUCCESS",i="USER_SIGN_UP_FAILED",s="SET_AUTH_REDIRECT",l="USER_LOGOUT",d="MENU_HANDLE_QUANTITY",m="MENU_HIDE_QUANTITY_MODAL",_="MENU_FETCH_MENUS_START",f="MENU_FETCH_MENUS_SUCCESS",p="MENU_FETCH_MENUS_FAILED",b="ORDER_ADD_TO_ORDERS_START",g="ORDER_ADD_TO_ORDERS_SUCCESS",E="ORDER_ADD_TO_ORDERS_FAILED",h="RESET_ORDER_RES_CODE",O="ORDER_FETCH_USER_ORDERS_START",v="ORDER_FETCH_USER_ORDERS_SUCCESS",R="ORDER_FETCH_USER_ORDERS_FAILED",y="ORDER_INCREMENT_START",N="ORDER_INCREMENT_SUCCESS",j="ORDER_INCREMENT_FAILED",M="ORDER_DECREMENT_START",S="ORDER_DECREMENT_SUCCESS",T="ORDER_DECREMENT_FAILED",D="ORDER_DELETE_START",A="ORDER_DELETE_SUCCESS",L="ORDER_DELETE_FAILED"},12:function(e,n,t){e.exports={Header:"Header_Header__3YOU5",HomeHeader:"Header_HomeHeader__3YMpo",MainNav:"Header_MainNav__2-agM",MainNav__list:"Header_MainNav__list__1N7WD",MobileNav__list:"Header_MobileNav__list__2wcC-",MainNav__list__item:"Header_MainNav__list__item__Z4L9H","admin-nav":"Header_admin-nav__3amdB","MobileNav__list-item":"Header_MobileNav__list-item__2gT80",MobileNav__list__item:"Header_MobileNav__list__item__2FAfG",MobileMenu:"Header_MobileMenu__25_xT",MobileNav:"Header_MobileNav__2an3Y"}},2:function(e,n,t){"use strict";t.d(n,"b",function(){return a}),t.d(n,"a",function(){return o});var r=t(47),a=function(e,n){return Object(r.a)({},e,n)},o=function(e,n){var t=!0;if(n.required&&(t=""!==e.trim()&&t),n.minLength&&(t=e.length>=n.minLength&&t),n.maxLength&&(t=e.length<=n.maxLength&&t),n.isEmail){t=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&t}if(n.isNumeric){t=/^\d+$/.test(e)&&t}return t}},23:function(e,n,t){e.exports={Burger:"BurgerMenu_Burger__VUO-3",BurgerLines:"BurgerMenu_BurgerLines__1p7oh",BurgerSlip:"BurgerMenu_BurgerSlip__35mB3",Open:"BurgerMenu_Open__2o8_c"}},24:function(e,n,t){e.exports={Banner:"HomeBanner_Banner__3L1wE",Banner__text:"HomeBanner_Banner__text__3AFWF",Banner__button:"HomeBanner_Banner__button__3mLnV",Home__Banner__text:"HomeBanner_Home__Banner__text__3rHqm"}},25:function(e,n,t){"use strict";var r=t(0),a=t.n(r),o=t(35),c=t.n(o);n.a=function(){return a.a.createElement("div",{className:c.a.fullscreen},a.a.createElement("div",{className:c.a.Loader},"Loading..."))}},32:function(e,n,t){e.exports={Logo:"Logo_Logo__36T9R",MobileLogo:"Logo_MobileLogo__dhPUl"}},34:function(e,n,t){e.exports={Banner:"Banner_Banner__2tNYG",Banner__text:"Banner_Banner__text__2-fwT",Banner__button:"Banner_Banner__button__2fgbs"}},35:function(e,n,t){e.exports={fullscreen:"Loading_fullscreen__3gqHx",Loader:"Loading_Loader__Tdr4C",load1:"Loading_load1__IyGpS"}},36:function(e,n,t){"use strict";var r=t(0),a=t.n(r),o=t(52),c=t.n(o);n.a=function(e){return a.a.createElement("footer",{className:c.a.Footer},a.a.createElement("p",null,"\xa9 2019 Copyright. ",a.a.createElement("span",{className:"Red"},"Book A Meal"),"."))}},37:function(e,n,t){"use strict";var r=t(15),a=t(16),o=t(18),c=t(17),u=t(19),i=t(0),s=t.n(i),l=t(20),d=t(12),m=t.n(d),_=t(11),f=t(32),p=t.n(f),b=function(e){var n=[p.a.Logo];return e.mobile&&n.push(p.a.MobileLogo),s.a.createElement("div",{className:n.join(" ")},s.a.createElement(_.b,{to:"/"},s.a.createElement("span",{className:"Red"},"B"),"ook ",s.a.createElement("span",{className:"Red"},"A")," Mea",s.a.createElement("span",{className:"Red"},"l")))},g=t(23),E=t.n(g),h=function(e){var n=[E.a.Burger,E.a.BurgerSlip,e.mobileMenuClass];return e.show&&n.push(E.a.Open),s.a.createElement("div",{className:n.join(" "),onClick:e.toggle},s.a.createElement("div",{className:E.a.BurgerLines}))},O=function(e){return s.a.createElement("li",{className:e.styles},s.a.createElement(_.b,{to:e.href},e.content))},v=function(e){var n=function(e,n){var t=Object.keys(e).map(function(t){return s.a.createElement(O,{key:t,content:e[t],href:t,styles:n.MNavListItem})});return s.a.createElement("ul",{className:n.MNavList},t)},t={MNavList:e.mobile?e.classes.MobileNav__list:e.classes.MainNav__list,MNavListItem:e.mobile?e.classes.MobileNav__list__item:e.classes.MainNav__list__item},r=e.caterer?{"/admin/":"Today's Menu","/admin/meals":"Meal Options","/admin/todays-orders":"Todays Orders","/admin/order-history":"Order History","/admin/logout":"Logout"}:{"/":"Welcome User","/menu":"Today's Menu","/orders":"Orders","/order-history":"Order History","/logout":"Logout"},a=e.authenticated?n(r,t):n({"/login":"Login","/register":"Register","/admin/register":"Register as a Caterer","/admin/login":"Login as a Caterer"},t);return s.a.createElement(s.a.Fragment,null,e.mobile&&!e.show?null:a)},R=t(51),y=t.n(R),N=function(e){var n=[y.a.Overlay];return e.show||n.push("Hide"),s.a.createElement("div",{className:n.join(" ")})},j=t(24),M=t.n(j),S=function(e){var n=[M.a.Banner__text,M.a.Home__Banner__text].join(" ");return s.a.createElement("main",null,s.a.createElement("section",{className:M.a.Banner},s.a.createElement("p",{className:n},"\u201c We are here to ",s.a.createElement("span",{className:"Red"},"serve")," you"),s.a.createElement("p",{className:n},"Always with the ",s.a.createElement("span",{className:"Red"},"Quality")," you deserve \u201d"),s.a.createElement(_.b,{to:"/menu",className:["Btn",M.a.Banner__button].join(" ")},"View Today's Menu")))},T=t(34),D=t.n(T),A=function(e){return s.a.createElement("section",{className:D.a.Banner},s.a.createElement("p",{className:D.a.Banner__text},e.text))},L=function(e){function n(){var e,t;Object(r.a)(this,n);for(var a=arguments.length,u=new Array(a),i=0;i<a;i++)u[i]=arguments[i];return(t=Object(o.a)(this,(e=Object(c.a)(n)).call.apply(e,[this].concat(u)))).state={mobileToggle:!1},t.toggleMobileMenu=function(){t.setState(function(e){return{mobileToggle:!e.mobileToggle}})},t}return Object(u.a)(n,e),Object(a.a)(n,[{key:"render",value:function(){var e=this.state.mobileToggle?"":"Hide",n=this.props.homepage?m.a.HomeHeader:"",t=this.props.caterer?this.props.catererAuthenticated:this.props.userAuthenticated;return s.a.createElement(s.a.Fragment,null,s.a.createElement(N,{show:this.state.mobileToggle||this.props.overlay}),s.a.createElement("header",{className:[m.a.Header,n].join(" ")},s.a.createElement("nav",{className:m.a.MainNav},s.a.createElement(b,null),s.a.createElement(v,{caterer:this.props.caterer,classes:m.a,authenticated:t}),s.a.createElement(h,{show:this.state.mobileToggle,mobileMenuClass:m.a.MobileMenu,toggle:this.toggleMobileMenu})),s.a.createElement("nav",{className:[m.a.MobileNav,e].join(" ")},s.a.createElement(b,{mobile:!0}),s.a.createElement(v,{caterer:this.props.caterer,mobile:!0,classes:m.a,authenticated:t,show:this.state.mobileToggle})),this.props.homepage?s.a.createElement(S,null):s.a.createElement(A,{text:this.props.bannerText})))}}]),n}(i.Component);n.a=Object(l.b)(function(e){return{userAuthenticated:e.auth.userAuthenticated,catererAuthenticated:e.auth.catererAuthenticated}})(L)},38:function(e,n,t){"use strict";var r=t(1),a=t(7),o=function(e){return{type:r.v,path:e}},c=function(e){return{type:r.z,data:{token:e}}},u=function(e){var n=e.email,t=e.password;return function(e){a.a.post("/auth/login",{email:n,password:t}).then(function(n){var t=new Date((new Date).getTime()+864e5);localStorage.setItem("token",n.data.token),localStorage.setItem("expirationDate",t),e(c(n.data.token))}).catch(function(n){e(function(e){return{type:r.x,error:e}}(n))})}},i=function(e){var n=e.name,t=e.email,o=e.phone,c=e.password;return function(e){a.a.post("/auth/signup",{name:n,email:t,phone:o,password:c}).then(function(n){var t,a=new Date((new Date).getTime()+864e5);localStorage.setItem("token",n.data.token),localStorage.setItem("expirationDate",a),e((t=n.data.token,{type:r.C,data:{token:t}}))}).catch(function(n){e(function(e){return{type:r.A,error:e}}(n))})}},s=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),{type:r.w}},l=function(){return function(e){var n,t=localStorage.getItem("token");if(t){var r=new Date(localStorage.getItem("expirationDate"));r>new Date?(e(c(t)),e((n=(r.getTime()-(new Date).getTime())/1e3,function(e){setTimeout(function(){e(s())},1e3*n)}))):e(s())}else e(s())}},d=function(e){return{type:r.d,mealId:e}},m=function(){return{type:r.e}},_=function(){return function(e){e({type:r.b}),a.a.get("/menu/").then(function(n){var t;e((t=n.data.data,{type:r.c,data:t}))}).catch(function(n){e(function(e){return{type:r.a,error:e}}(n))})}},f=function(e){return function(n){n({type:r.g}),a.a.post("/orders",e).then(function(e){n({type:r.h})}).catch(function(e){n(function(e){return{type:r.f,error:e}}(e))})}},p=function(){return{type:r.u}},b=function(){return function(e){e({type:r.p}),a.a.get("/orders/user").then(function(n){var t;e((t=n.data.data,{type:r.q,data:t}))}).catch(function(n){e(function(e){return{type:r.o,error:e}}(n))})}},g=function(e){return function(n){n({type:r.s}),a.a.put("/orders/".concat(e),{action:"increase"}).then(function(){n(b()),n({type:r.t})}).catch(function(e){n(function(e){return{type:r.r,error:e}}(e))})}},E=function(e){return function(n){n({type:r.j}),a.a.put("/orders/".concat(e),{action:"decrease"}).then(function(){n(b()),n({type:r.k})}).catch(function(e){n(function(e){return{type:r.i,error:e}}(e))})}},h=function(e){return function(n){n({type:r.m}),a.a.put("/orders/".concat(e),{action:"delete"}).then(function(){n(b()),n({type:r.n})}).catch(function(e){n(function(e){return{type:r.l,error:e}}(e))})}};t.d(n,"m",function(){return u}),t.d(n,"n",function(){return i}),t.d(n,"j",function(){return o}),t.d(n,"k",function(){return l}),t.d(n,"l",function(){return s}),t.d(n,"b",function(){return m}),t.d(n,"a",function(){return d}),t.d(n,"c",function(){return _}),t.d(n,"d",function(){return f}),t.d(n,"i",function(){return p}),t.d(n,"g",function(){return b}),t.d(n,"e",function(){return E}),t.d(n,"h",function(){return g}),t.d(n,"f",function(){return h})},51:function(e,n,t){e.exports={Overlay:"Overlay_Overlay__2FCU1"}},52:function(e,n,t){e.exports={Footer:"Footer_Footer__28Czs"}},55:function(e,n,t){e.exports=t(93)},7:function(e,n,t){"use strict";var r=t(53),a=t.n(r).a.create({baseURL:"http://localhost:7000/api/v1/"});a.defaults.headers.common["Content-Type"]="application/json",n.a=a},91:function(e,n,t){},92:function(e,n,t){},93:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(26),c=t.n(o),u=t(28),i=t(15),s=t(16),l=t(18),d=t(17),m=t(19),_=t(13),f=t(20),p=t(49),b=t.n(p),g=t(37),E=t(36),h=function(e){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement(b.a,{className:"home-page"},a.a.createElement(a.a.Fragment,null,a.a.createElement(g.a,{homepage:!0}),a.a.createElement(E.a,null)))}}]),n}(r.Component),O=t(25),v=t(38),R=(t(91),Object(r.lazy)(function(){return t.e(8).then(t.bind(null,115))})),y=Object(r.lazy)(function(){return t.e(9).then(t.bind(null,116))}),N=Object(r.lazy)(function(){return t.e(10).then(t.bind(null,117))}),j=Object(r.lazy)(function(){return t.e(11).then(t.bind(null,118))}),M=Object(r.lazy)(function(){return t.e(4).then(t.bind(null,128))}),S=Object(r.lazy)(function(){return t.e(12).then(t.bind(null,119))}),T=Object(r.lazy)(function(){return Promise.all([t.e(16),t.e(3)]).then(t.bind(null,120))}),D=Object(r.lazy)(function(){return t.e(17).then(t.bind(null,121))}),A=Object(r.lazy)(function(){return t.e(5).then(t.bind(null,122))}),L=Object(r.lazy)(function(){return t.e(7).then(t.bind(null,123))}),B=Object(r.lazy)(function(){return t.e(13).then(t.bind(null,124))}),C=Object(r.lazy)(function(){return t.e(14).then(t.bind(null,125))}),H=Object(r.lazy)(function(){return t.e(6).then(t.bind(null,126))}),w=Object(r.lazy)(function(){return t.e(15).then(t.bind(null,127))}),I=function(e){function n(){return Object(i.a)(this,n),Object(l.a)(this,Object(d.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onTryAutoLogin()}},{key:"render",value:function(){var e=this,n=function(n){var t=n.component,o=Object(u.a)(n,["component"]);return a.a.createElement(_.b,Object.assign({},o,{render:function(n){return e.props.userAuthenticated?a.a.createElement(r.Suspense,{fallback:a.a.createElement(O.a,null)},a.a.createElement(t,n)):a.a.createElement(_.a,{to:"/login"})}}))},t=function(n){var t=n.component,o=Object(u.a)(n,["component"]);return a.a.createElement(_.b,Object.assign({},o,{render:function(n){return e.props.catererAuthenticated?a.a.createElement(r.Suspense,{fallback:a.a.createElement(O.a,null)},a.a.createElement(t,n)):a.a.createElement(_.a,{to:"/admin/login"})}}))},o=function(e){var n=e.component,t=Object(u.a)(e,["component"]);return a.a.createElement(_.b,Object.assign({},t,{render:function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(O.a,null)},a.a.createElement(n,e))}}))};return a.a.createElement(_.d,null,a.a.createElement(_.b,{exact:!0,path:"/",component:h}),a.a.createElement(o,{path:"/login",component:R}),a.a.createElement(o,{path:"/register",component:y}),a.a.createElement(n,{path:"/menu",component:M}),a.a.createElement(n,{path:"/order-history",component:S}),a.a.createElement(n,{path:"/orders",component:T}),a.a.createElement(o,{path:"/logout",component:D}),a.a.createElement(t,{exact:!0,path:"/admin/",component:A}),a.a.createElement(o,{path:"/admin/login",component:N}),a.a.createElement(o,{path:"/admin/register",component:j}),a.a.createElement(t,{path:"/admin/meals",component:L}),a.a.createElement(t,{path:"/admin/order-history",component:B}),a.a.createElement(t,{path:"/admin/todays-orders",component:C}),a.a.createElement(t,{path:"/admin/menu",component:H}),a.a.createElement(o,{component:w}))}}]),n}(r.Component),U=Object(_.f)(Object(f.b)(function(e){return{userAuthenticated:e.auth.userAuthenticated,catererAuthenticated:e.auth.catererAuthenticated}},function(e){return{onTryAutoLogin:function(){return e(v.k())}}})(I));t(92),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=t(11),x=t(14),z=t(54),F=t(1),q=t(2),G={token:null,userAuthenticated:!1,catererAuthenticated:!1,loading:!1,error:null,authRedirectPath:"/",errorMessage:null},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case F.v:return function(e,n){return Object(q.b)(e,{authRedirectPath:n.path})}(e,n);case F.y:return function(e,n){return Object(q.b)(e,{loading:!0})}(e);case F.z:return function(e,n){return Object(q.b)(e,{userAuthenticated:!0,token:n.data.token,loading:!1})}(e,n);case F.x:return function(e,n){return Object(q.b)(e,{loading:!1,error:n.error.response?n.error.response:n.error,errorMessage:n.error.response.data.message?n.error.response.data.message:n.error.message})}(e,n);case F.B:return function(e,n){return Object(q.b)(e,{loading:!0})}(e);case F.C:return function(e,n){return Object(q.b)(e,{userAuthenticated:!0,token:n.data.token,loading:!1})}(e,n);case F.A:return function(e,n){return Object(q.b)(e,{loading:!1,error:n.error.response?n.error.response:n.error,errorMessage:n.error.response.data.message?n.error.response.data.message:n.error.message})}(e,n);case F.w:return function(e,n){return Object(q.b)(e,{token:null,userAuthenticated:!1})}(e);default:return e}},W={menus:[],beingOrdered:null,loading:!1,error:null,errorMessage:null},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case F.d:return function(e,n){var t=[];e.menus.forEach(function(e){t.push({id:e.id,catererId:e.catererId,catering_service:e.caterer.catering_service,meals:JSON.parse(e.meals)})});var r=[];return t.forEach(function(e,t){var a=e.meals.findIndex(function(e){return Number(e.id)===Number(n.mealId)});a>=0&&(r[0]=t,r[1]=a)}),Object(q.b)(e,{beingOrdered:t[r[0]].meals[r[1]]})}(e,n);case F.e:return function(e,n){return Object(q.b)(e,{beingOrdered:null})}(e);case F.b:return function(e,n){return Object(q.b)(e,{loading:!0})}(e);case F.c:return function(e,n){return Object(q.b)(e,{loading:!1,menus:n.data})}(e,n);case F.a:return function(e,n){return Object(q.b)(e,{loading:!1,error:n.error.response?n.error.response:n.error,errorMessage:n.error.response?n.error.response.data.message:n.error.message})}(e,n);default:return e}},$={orderMeals:[],ordersTotal:0,loading:!1,error:null,errorMessage:null,lastReq:null,checkingOut:null},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case F.g:return function(e,n){return Object(q.b)(e,{loading:!0})}(e);case F.h:return function(e,n){return Object(q.b)(e,{loading:!1,lastReq:200})}(e);case F.f:return function(e,n){return Object(q.b)(e,{loading:!1,lastReq:n.error.response.data?n.error.response.data.statusCode:null,error:n.error,errorMessage:n.error.response.data?n.error.response.data:n.error.message})}(e,n);case F.u:return function(e,n){return Object(q.b)(e,{lastReq:null})}(e);case F.p:return function(e,n){return Object(q.b)(e,{loading:!0})}(e);case F.q:return function(e,n){return Object(q.b)(e,{loading:!1,orderMeals:n.data.meals,ordersTotal:n.data.total})}(e,n);case F.o:return function(e,n){return Object(q.b)(e,{loading:!1,error:n.error,errorMessage:n.error.response?n.error.response.data:n.error.message})}(e,n);case F.s:return function(e,n){return Object(q.b)(e,{loading:!0})}(e);case F.t:return function(e,n){return Object(q.b)(e,{loading:!1})}(e);case F.r:return function(e,n){return Object(q.b)(e,{loading:!1,error:n.error.response?n.error.response:n.error,errorMessage:n.error.response?n.error.response.data.message:n.error.message})}(e,n);case F.j:return function(e,n){return Object(q.b)(e,{loading:!0})}(e);case F.k:return function(e,n){return Object(q.b)(e,{loading:!1})}(e);case F.i:return function(e,n){return Object(q.b)(e,{loading:!1,error:n.error.response?n.error.response:n.error,errorMessage:n.error.response?n.error.response.data.message:n.error.message})}(e,n);case F.m:return function(e,n){return Object(q.b)(e,{loading:!0})}(e);case F.n:case F.l:return function(e,n){return Object(q.b)(e,{loading:!1})}(e);default:return e}},Q=x.d,V=Object(x.c)({auth:P,menu:Y,orders:J}),Z=Object(x.e)(V,Q(Object(x.a)(z.a))),K=a.a.createElement(f.a,{store:Z},a.a.createElement(k.a,null,a.a.createElement(U,null)));c.a.render(K,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[55,1,2]]]);
//# sourceMappingURL=main.2102f905.chunk.js.map