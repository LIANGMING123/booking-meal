(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{102:function(e,t,a){"use strict";var r=a(18),s=a(19),l=a(21),n=a(20),_=a(22),c=a(0),o=a.n(c);t.a=function(e,t){return function(a){function c(){var e,t;Object(r.a)(this,c);for(var a=arguments.length,s=new Array(a),_=0;_<a;_++)s[_]=arguments[_];return(t=Object(l.a)(this,(e=Object(n.a)(c)).call.apply(e,[this].concat(s)))).state={error:null},t.errorConfirmedHandler=function(){t.setState({error:null})},t}return Object(_.a)(c,a),Object(s.a)(c,[{key:"componentWillMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.request.use(function(t){if(e.setState({error:null}),"http://localhost:7000/api/v1/"===t.baseURL&&!t.headers.Authorization){var a=t.headers["X-Req"]?localStorage.getItem("c_token"):localStorage.getItem("token");a&&(t.headers.Authorization=a)}return t}),this.resInterceptor=t.interceptors.response.use(function(e){return e},function(t){e.setState({error:t})})}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}]),c}(c.Component)}},104:function(e,t,a){"use strict";var r=a(0),s=a.n(r),l=a(105),n=a.n(l),_=a(106),c=a.n(_);t.a=function(e){var t="Empty "+e.text,a=s.a.createElement("span",{className:"Red"},e.text);return s.a.createElement("div",{className:n.a.Empty},s.a.createElement("img",{src:c.a,alt:t}),s.a.createElement("p",{className:n.a.EmptyText},"Empty ",a))}},105:function(e,t,a){e.exports={Empty:"Empty_Empty__3FLfD",EmptyText:"Empty_EmptyText__U9qLT"}},106:function(e,t,a){e.exports=a.p+"static/media/empty.093f05ea.svg"},116:function(e,t,a){e.exports={Table:"Table_Table__WbckG",Table__head:"Table_Table__head__2lWVY",Table__row:"Table_Table__row__rNsSZ",Table__foot:"Table_Table__foot__2PKEA",Table__head__list:"Table_Table__head__list__3BO49",Table__row__list:"Table_Table__row__list__1Swr2",Table__foot__list:"Table_Table__foot__list__QeOP1",Table__head__list__item:"Table_Table__head__list__item__13D6e",Table__row__list__item:"Table_Table__row__list__item__3D7rH",Table__foot__list__item:"Table_Table__foot__list__item__10wdh",Order__summary__list:"Table_Order__summary__list__3h_6e",Order__summary__list__item:"Table_Order__summary__list__item__1elsG",Dash:"Table_Dash__OiJKK"}},117:function(e,t,a){"use strict";var r=a(0),s=a.n(r),l=a(116),n=a.n(l),_=function(e){return s.a.createElement("li",{className:e.classes.Table__head__list__item},e.text)},c=function(e){var t=e.rows.map(function(t){return s.a.createElement(_,{key:t,classes:e.classes,text:t})});return s.a.createElement("div",{className:e.classes.Table__head},s.a.createElement("ul",{className:e.classes.Table__head__list},t))},o=function(e){var t=e.order.meals.map(function(t){return s.a.createElement(s.a.Fragment,{key:t.id},s.a.createElement("li",{className:e.classes.Order__summary__list__item},s.a.createElement("p",null,t.name),s.a.createElement("span",{className:e.classes.Dash},"-"),s.a.createElement("p",null,t.quantity)))});return s.a.createElement("div",{className:e.classes.Table__row},s.a.createElement("ul",{className:e.classes.Table__row__list},s.a.createElement("li",{className:e.classes.Table__row__list__item},e.order.id),s.a.createElement("li",{className:e.classes.Table__row__list__item},e.order.user||e.order.caterer),s.a.createElement("li",{className:e.classes.Table__row__list__item},s.a.createElement("ul",{className:e.classes.Order__summary__list},t)),s.a.createElement("li",{className:e.classes.Table__row__list__item},e.order.date),s.a.createElement("li",{className:e.classes.Table__row__list__item},"$",e.order.total.toFixed(2))))},i=function(e){var t=e.orders.map(function(t){return s.a.createElement(o,{classes:e.classes,order:t,key:t.id})});return s.a.createElement("div",null,t)},m=function(e){var t=s.a.createElement("li",{className:e.classes.Table__foot__list__item},e.text);return"object"===typeof e.text&&(t=s.a.createElement("li",{className:e.classes.Table__foot__list__item},"$",e.text.total.toFixed(2))),t},u=function(e){var t=e.rows.map(function(t){return s.a.createElement(m,{key:t,classes:e.classes,text:t})});return s.a.createElement("div",{className:e.classes.Table__foot},s.a.createElement("ul",{className:e.classes.Table__foot__list},t))};t.a=function(e){var t=["#ID","Caterer","Order Summary","Order Date","Order Total"],a=["Total",{total:e.orders.reduce(function(e,t){return e+t.total},0)}];return e.todaysOrders&&t.splice(3,1),e.caterer&&(t[1]="Customer Name"),s.a.createElement("section",{className:["page-section",n.a.Table].join(" ")},s.a.createElement(c,{classes:n.a,rows:t}),s.a.createElement(i,{classes:n.a,orders:e.orders}),e.todaysOrders?s.a.createElement(u,{classes:n.a,rows:a}):null)}},132:function(e,t,a){"use strict";a.r(t);var r=a(18),s=a(19),l=a(21),n=a(20),_=a(22),c=a(0),o=a.n(c),i=a(14),m=a(33),u=a(42),d=a(41),p=a(117),b=a(28),f=a(104),T=a(5),E=a(102),h=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(n.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchOrders()}},{key:"render",value:function(){var e=o.a.createElement(p.a,{orders:this.props.orders,caterer:!0});return this.props.loading&&(e=o.a.createElement(b.a,null)),this.props.loading||0!==this.props.orders.length||(e=o.a.createElement(f.a,{text:"Order History"})),o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{bannerText:"Your Order History",authenticated:this.props.catererAuthenticated,caterer:!0}),o.a.createElement("main",null,e),o.a.createElement(d.a,null))}}]),t}(c.Component);t.default=Object(i.b)(function(e){var t=[];return e.orders.catererOrders.forEach(function(e){t.push({id:e.id,user:e.user.name,meals:JSON.parse(e.order),date:new Date(e.createdAt).toDateString(),total:e.total})}),{catererAuthenticated:e.auth.catererAuthenticated,loading:e.orders.loading,orders:t}},function(e){return{onFetchOrders:function(){return e(m.r())}}})(Object(E.a)(h,T.a))}}]);
//# sourceMappingURL=9.b4946b6b.chunk.js.map