(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{167:function(e,t,n){"use strict";var a=n(164),r=n.n(a),c=n(165),o=n(1),u=n(171),s=n.n(u).a.create({baseURL:"http://localhost:7000/api/v2/",headers:{Accept:"application/json","Content-Type":"application/json"}});s.interceptors.request.use(function(e){return function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}(e)}),s.interceptors.response.use(function(e){return function(e){return 401===e.status&&console.log("Refresh Auth"),e}(e)});var i=s,l=n(172),p=n.n(l);p.a.settings({timeout:1500,resetOnHover:!0,position:"topRight",overlay:!0,overlayClose:!0});var m=function(e,t){p.a.show({color:{success:"green",error:"red",warning:"yellow",info:"blue"}[e],icon:"ico-".concat(e),title:"".concat(e.charAt(0).toUpperCase()+e.slice(1)),message:t})},d=function(e){return{type:o.R,path:e}},_=function(e){var t=e.email,n=e.password;return function(e){return new Promise(function(){var a=Object(c.a)(r.a.mark(function a(c,u){var s,l,p,d;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:o.T}),a.prev=1,a.next=4,i.post("/auth/login",{email:t,password:n});case 4:s=a.sent,l=s.data,p=new Date((new Date).getTime()+864e5),localStorage.setItem("token",l.token),localStorage.setItem("expirationDate",p),m(l.status,l.message),e((_=l.user,{type:o.U,payload:_})),c(),a.next=20;break;case 14:a.prev=14,a.t0=a.catch(1),d=a.t0.response?a.t0.response.data.message:"Internal Server Error",m("error",d),e((r=a.t0,{type:o.S,payload:r})),u(a.t0);case 20:case"end":return a.stop()}var r,_},a,null,[[1,14]])}));return function(e,t){return a.apply(this,arguments)}}())}},f=function(e){var t=e.name,n=e.email,a=e.phone,u=e.password,s=e.type,l=e.catering_service;return function(e){return new Promise(function(){var p=Object(c.a)(r.a.mark(function c(p,d){var _,f,v,y;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e({type:o.W}),r.prev=1,r.next=4,i.post("/auth/signup",{name:t,email:n,phone:a,password:u,type:s,catering_service:l});case 4:_=r.sent,f=_.data,v=new Date((new Date).getTime()+864e5),localStorage.setItem("token",f.token),localStorage.setItem("expirationDate",v),m(f.status,f.message),e((h=f.user,{type:o.X,payload:h})),p(),r.next=20;break;case 14:r.prev=14,r.t0=r.catch(1),y=r.t0.response?r.t0.response.data.message:"Internal Server Error",m("error",y),e((c=r.t0,{type:o.V,payload:c})),d(r.t0);case 20:case"end":return r.stop()}var c,h},c,null,[[1,14]])}));return function(e,t){return p.apply(this,arguments)}}())}},v=function(){return localStorage.clear(),m("success","Logging Out..."),{type:o.a}},y=n(173),h=function(e){return{type:o.x,mealId:e}},b=function(){return{type:o.y}},x=function(){return function(){var e=Object(c.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:o.s}),e.prev=1,e.next=4,i.get("/menu");case 4:n=e.sent,t((r=n.data.data,{type:o.t,payload:r.map(function(e){return{id:e.id,catererId:e.catererId,catering_service:e.name,meals:e.menu.map(JSON.parse)}})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t((a=e.t0,{type:o.r,error:a}));case 11:case"end":return e.stop()}var a,r},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},E=function(){return function(){var e=Object(c.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:o.v}),e.prev=1,e.next=4,i.get("/menu/caterer");case 4:n=e.sent,t((r=n.data.data,{type:o.w,payload:r.menu})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t((a=e.t0,{type:o.u,error:a}));case 11:case"end":return e.stop()}var a,r},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},M=function(e){return function(t){return new Promise(function(){var n=Object(c.a)(r.a.mark(function n(a,c){var u,s,l,p,d,_,f;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t({type:o.p}),n.prev=1,u=!0,s=!1,n.prev=4,p=Object(y.a)(e);case 6:return n.next=8,p.next();case 8:return d=n.sent,u=d.done,n.next=12,d.value;case 12:if(_=n.sent,u){n.next=20;break}return f=_,n.next=17,i.post("/menu",f);case 17:u=!0,n.next=6;break;case 20:n.next=26;break;case 22:n.prev=22,n.t0=n.catch(4),s=!0,l=n.t0;case 26:if(n.prev=26,n.prev=27,u||null==p.return){n.next=31;break}return n.next=31,p.return();case 31:if(n.prev=31,!s){n.next=34;break}throw l;case 34:return n.finish(31);case 35:return n.finish(26);case 36:m("success","Menu Modified"),t({type:o.q}),a(),n.next=46;break;case 41:n.prev=41,n.t1=n.catch(1),m("error","Failed to Modify Menu"),t((r=n.t1,{type:o.o,error:r})),c(n.t1);case 46:case"end":return n.stop()}var r},n,null,[[1,41],[4,22,26,36],[27,,31,35]])}));return function(e,t){return n.apply(this,arguments)}}())}},w=function(e){return function(){var t=Object(c.a)(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:o.A}),t.prev=1,t.next=4,i.post("/orders",e);case 4:a=t.sent,m(a.data.status,a.data.message),n({type:o.B}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),m("error","Failed to Add Meal to Orders"),n((r=t.t0,{type:o.z,error:r}));case 13:case"end":return t.stop()}var r},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},g=function(){return function(){var e=Object(c.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:o.M}),e.prev=1,e.next=4,i.get("/orders/user");case 4:n=e.sent,t((r=n.data.data,{type:o.N,payload:r})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t((a=e.t0,{type:o.L,error:a}));case 11:case"end":return e.stop()}var a,r},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},k=function(e,t){return function(){var n=Object(c.a)(r.a.mark(function n(a){var c;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:o.P}),n.prev=1,n.next=4,i.put("/orders/".concat(e),{action:t});case 4:"warning"===(c=n.sent).data.status&&m(c.data.status,c.data.message),a(g()),a({type:o.Q}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),a((r=n.t0,{type:o.O,error:r}));case 13:case"end":return n.stop()}var r},n,null,[[1,10]])}));return function(e){return n.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(c.a)(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:o.G}),t.prev=1,t.next=4,i.put("/orders/".concat(e),{action:"delete"});case 4:a=t.sent,m(a.data.status,a.data.message),n(g()),n({type:o.H}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),m("error","Failed to Delete Meal Order"),n((r=t.t0,{type:o.F,error:r}));case 14:case"end":return t.stop()}var r},t,null,[[1,10]])}));return function(e){return t.apply(this,arguments)}}()},O=function(){return function(){var e=Object(c.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:o.J}),e.prev=1,e.next=4,i.get("/orders");case 4:n=e.sent,t((r=n.data.data,{type:o.K,payload:r})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t((a=e.t0,{type:o.I,error:a}));case 11:case"end":return e.stop()}var a,r},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},C=function(e){var t=e.billingAddress,n=e.city;return function(e){return new Promise(function(){var a=Object(c.a)(r.a.mark(function a(c,u){var s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:o.D}),a.prev=1,a.next=4,i.post("/orders/checkout",{billingAddress:"".concat(t,", ").concat(n)});case 4:s=a.sent,m(s.data.status,s.data.message),e(g()),e({type:o.E}),c(),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(1),m("error","Failed to Checkout Order"),e((r=a.t0,{type:o.C,error:r})),u();case 16:case"end":return a.stop()}var r},a,null,[[1,11]])}));return function(e,t){return a.apply(this,arguments)}}())}},j=function(){return function(){var e=Object(c.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:o.i}),e.prev=1,e.next=4,i.get("/meals");case 4:n=e.sent,t((r=n.data.data,{type:o.j,payload:r})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t((a=e.t0,{type:o.h,error:a}));case 11:case"end":return e.stop()}var a,r},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},T=function(){return{type:o.k}},I=function(e){return function(t){return new Promise(function(){var n=Object(c.a)(r.a.mark(function n(a,c){var u;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:o.c}),n.prev=1,n.next=4,i.post("/meals",e,{headers:{"Content-Type":"multipart/form-data"}});case 4:u=n.sent,m(u.data.status,u.data.message),t({type:o.d}),t(j()),a(),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(1),m("error","Failed to Add Meal Option"),t((r=n.t0,{type:o.b,error:r})),c(n.t0);case 16:case"end":return n.stop()}var r},n,null,[[1,11]])}));return function(e,t){return n.apply(this,arguments)}}())}},D=function(e){return function(t){return new Promise(function(){var n=Object(c.a)(r.a.mark(function n(a,c){var u;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:o.f}),n.prev=1,n.next=4,i.delete("/meals/".concat(e));case 4:u=n.sent,m(u.data.status,u.data.message),t({type:o.g}),t(j()),a(),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(1),m("error","Failed to Delete Meal Option"),t((r=n.t0,{type:o.e,error:r})),c(n.t0);case 16:case"end":return n.stop()}var r},n,null,[[1,11]])}));return function(e,t){return n.apply(this,arguments)}}())}},F=function(e,t){return function(n,a){return new Promise(function(){var u=Object(c.a)(r.a.mark(function c(u,s){var l,p,d;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:o.m}),r.prev=1,r.next=4,i.put("/meals/".concat(e),t);case 4:l=r.sent,m(l.data.status,l.data.message),p=a().meal.meals,d=[],p.forEach(function(e){e.quantity>0&&d.push({mealId:e.id,quantity:e.quantity})}),n(M(d)),n({type:o.n}),n(j()),u(),r.next=19;break;case 15:r.prev=15,r.t0=r.catch(1),n((c=r.t0,{type:o.l,error:c})),s(r.t0);case 19:case"end":return r.stop()}var c},c,null,[[1,15]])}));return function(e,t){return u.apply(this,arguments)}}())}};n.d(t,"r",function(){return _}),n.d(t,"s",function(){return f}),n.d(t,"q",function(){return d}),n.d(t,"c",function(){return v}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return h}),n.d(t,"i",function(){return x}),n.d(t,"j",function(){return E}),n.d(t,"h",function(){return M}),n.d(t,"k",function(){return w}),n.d(t,"o",function(){return g}),n.d(t,"p",function(){return k}),n.d(t,"m",function(){return N}),n.d(t,"n",function(){return O}),n.d(t,"l",function(){return C}),n.d(t,"f",function(){return j}),n.d(t,"t",function(){return T}),n.d(t,"d",function(){return I}),n.d(t,"e",function(){return D}),n.d(t,"g",function(){return F})},170:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(180),o=n.n(c),u=n(181),s=n.n(u);t.a=function(e){var t="Empty "+e.text,n=r.a.createElement("span",{className:"Red"},e.text);return r.a.createElement("div",{className:o.a.Empty},r.a.createElement("img",{src:s.a,alt:t}),r.a.createElement("p",{className:o.a.EmptyText},"Empty ",n))}},177:function(e,t,n){e.exports={Menu:"Menu_Menu__1Ul2_",Menu__label:"Menu_Menu__label__1rxRj",Menu__food:"Menu_Menu__food__1N5xH",Right__Btn__lg:"Menu_Right__Btn__lg__2AJxY"}},178:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(211),o=n.n(c);t.a=function(e){var t="meal",n="mealdetails",a="mealname",c="mealprice",u="mealquantity",s={menu:r.a.createElement("div",{className:o.a.Menu__food__item__details,role:n},r.a.createElement("div",{className:o.a.Meal__info},r.a.createElement("p",{role:a},e.meal.name),r.a.createElement("p",{role:c},"\u20a6",e.meal.price.toFixed(2))),r.a.createElement("div",null,r.a.createElement("button",{className:o.a.Card__btn,onClick:function(){return e.order(e.meal.id)}},"Order"))),orders:r.a.createElement("div",{className:o.a.Menu__food__item__details,role:n},r.a.createElement("div",{className:o.a.Meal__info},r.a.createElement("p",{role:a},e.meal.name),r.a.createElement("p",{role:c},"\u20a6",e.meal.price.toFixed(2)),r.a.createElement("p",null,r.a.createElement("button",{className:o.a.Tiny__btn,onClick:function(){return e.decreaseQuantity(e.meal.orderId)}},"-")," ",e.meal.quantity," ",r.a.createElement("button",{className:o.a.Tiny__btn,onClick:function(){return e.increaseQuantity(e.meal.orderId)}},"+"))),r.a.createElement("div",{className:o.a.Meal__btn},r.a.createElement("button",{className:o.a.Card__btn,onClick:function(){return e.deleteOrder(e.meal.orderId)}},"Delete"))),menuMeals:r.a.createElement("div",{className:o.a.Menu__food__item__details,role:n},r.a.createElement("div",{className:o.a.Meal__info},r.a.createElement("p",{role:a},e.meal.name),r.a.createElement("p",{role:c},"\u20a6",e.meal.price.toFixed(2)),r.a.createElement("p",{role:u},"Quantity: ",e.meal.quantity))),mealOptions:r.a.createElement("div",{className:o.a.Menu__food__item__details,role:n},r.a.createElement("div",{className:o.a.Meal__info},r.a.createElement("p",{role:a},e.meal.name),r.a.createElement("p",{role:c},"\u20a6",e.meal.price.toFixed(2))),r.a.createElement("div",{className:o.a.Meal__btn},r.a.createElement("button",{className:o.a.Card__btn,onClick:function(){return e.showEditMealModal(e.meal)}},"Edit")),r.a.createElement("div",{className:o.a.Meal__btn},r.a.createElement("button",{className:o.a.Card__btn,onClick:function(){return e.removeMeal(e.meal.id)}},"Delete"))),manageMenu:r.a.createElement("div",{className:o.a.Menu__food__item__details,role:n},r.a.createElement("div",{className:o.a.Meal__info},r.a.createElement("p",{role:a},e.meal.name),r.a.createElement("p",{role:c},"\u20a6",e.meal.price.toFixed(2)),r.a.createElement("p",null,r.a.createElement("button",{className:o.a.Tiny__btn,onClick:function(){return e.decrease(e.meal.id)}},"-")," ",e.meal.quantity||0," ",r.a.createElement("button",{className:o.a.Tiny__btn,onClick:function(){return e.increase(e.meal.id)}},"+"))))};return r.a.createElement("article",{className:o.a.Menu__food__item,role:t},e.meal.quantity>0&&"manageMenu"===e.type?r.a.createElement("div",{className:"ribbon ribbon-top-left"},r.a.createElement("span",null,"Selected")):null,r.a.createElement("div",{className:o.a.Menu__food__item__img},r.a.createElement("img",{src:"".concat("http://localhost:7000","/").concat(e.meal.imageUrl),alt:"Meal"})),s[e.type])}},180:function(e,t,n){e.exports={Empty:"Empty_Empty__3FLfD",EmptyText:"Empty_EmptyText__U9qLT"}},181:function(e,t,n){e.exports=n.p+"static/media/empty.093f05ea.svg"},211:function(e,t,n){e.exports={Menu__food__item:"Meal_Menu__food__item__2OJ21",Menu__food__item__img:"Meal_Menu__food__item__img__1Yo1D",Menu__food__item__details:"Meal_Menu__food__item__details__2pvx9",Meal__info:"Meal_Meal__info__2jhlT",Card__btn:"Meal_Card__btn__2rLEQ",Tiny__btn:"Meal_Tiny__btn__2poCu",Cart__container:"Meal_Cart__container__2_1QQ",Meal__btn:"Meal_Meal__btn__nk-Jf"}}}]);
//# sourceMappingURL=1.ddeef757.chunk.js.map