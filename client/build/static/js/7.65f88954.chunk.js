(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{166:function(e,t,a){e.exports={Form_wrapper:"Form_Form_wrapper__QqSsD",Form_page:"Form_Form_page__7wk-h",Page_form:"Form_Page_form__4SeNr",Form_group:"Form_Form_group__1phnD",Form_field:"Form_Form_field__3UJZr",Invalid:"Form_Invalid__2diAN",Page_link:"Form_Page_link__1y_3j"}},169:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(21),i=a.n(o),r=a(166),c=a.n(r);t.a=l.a.memo(function(e){var t=null,a=[c.a.Form_field];switch(e.invalid&&e.shouldValidate&&e.touched&&a.push(c.a.Invalid),e.elementType){case"input":t=l.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=l.a.createElement("textarea",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=l.a.createElement("select",{className:a.join(" "),onChange:e.changed},e.elementConfig.options.map(function(e){return l.a.createElement("option",{key:e.value,value:e.value},e.displayValue)}));break;default:t=l.a.createElement("input",Object.assign({className:a.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}))}return l.a.createElement("div",{className:c.a.Form_group},t)},i.a)},174:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(9),i=a(177),r=a.n(i),c=a(178),s=a(170),d=function(e){switch(e){case"orders":return"Orders";case"menuMeals":return"Menu";case"manageMenu":case"mealOptions":return"Meal Options";default:return""}};t.a=function(e){var t=e.type,a=e.meals,n=["page-section"],i=function(e,t,a){var n=a.checkout,i=a.saveMenu,c=a.toggleMealModal,s=null,d=null;switch(t){case"orders":e.push(r.a.Cart__container),d=l.a.createElement("button",{className:r.a.Right__Btn__lg,onClick:n},"Make Order");break;case"manageMenu":d=l.a.createElement("button",{className:["Btn",r.a.Right__Btn__lg].join(" "),onClick:i},"Save");break;case"menuMeals":s=l.a.createElement(o.b,{to:"/caterer/menu",className:["Btn",r.a.Right__Btn__lg].join(" ")},"Manage Menu");break;case"mealOptions":s=l.a.createElement("button",{className:["Btn",r.a.Right__Btn__lg].join(" "),onClick:c},"Add Meal Option")}return{top:s,bottom:d}}(n,t,{checkout:e.checkout,saveMenu:e.saveMenu,toggleMealModal:e.toggleMealModal});return l.a.createElement("section",{className:n.join(" "),role:"meals"},i.top,l.a.createElement("div",{className:r.a.Menu__food},0===a.length?l.a.createElement(s.a,{text:d(t)}):a.map(function(t){return l.a.createElement(c.a,Object.assign({key:t.id,meal:t},e))})),i.bottom)}},179:function(e,t,a){e.exports={Modal:"Modal_Modal__2Pcs3",Modal__header:"Modal_Modal__header__2JRRy",Modal__title:"Modal_Modal__title__2vyE-",Close:"Modal_Close__zmcgb",Modal__body:"Modal_Modal__body__1CQOc",Modal__content:"Modal_Modal__content__11UpQ",Modal__footer:"Modal_Modal__footer__2Gwm3",Hidden:"Modal_Hidden__340aA",Meal__Details__img:"Modal_Meal__Details__img__24T8R"}},184:function(e,t,a){"use strict";var n=a(0),l=a.n(n),o=a(179),i=a.n(o),r=function(e){var t=e.classes;return l.a.createElement("h3",{className:t.Modal__title},l.a.createElement("span",{className:"Red"},"B"),"ook ",l.a.createElement("span",{className:"Red"},"A")," Mea",l.a.createElement("span",{className:"Red"},"l")," ",e.title)},c=a(48),s=a(12),d=a(15),u=a(16),m=a(18),p=a(17),h=a(19),g=a(14),f=a(36),_=a(169),M=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).state={quantityControls:{quantity:{elementType:"input",elementConfig:{type:"number",name:"quantity",placeholder:"Quantity",min:0,max:a.props.meal?a.props.meal.quantity:0},value:"",validation:{required:!0},valid:!1,touched:!1},mealId:{elementType:"input",elementConfig:{type:"hidden",name:"mealId"},value:a.props.meal?a.props.meal.id:"",validation:{},valid:!0,touched:!0}},checkoutControls:{billingAddress:{elementType:"input",elementConfig:{type:"text",name:"billing-address",placeholder:"Billing Address"},value:"",validation:{required:!0},valid:!1,touched:!1},city:{elementType:"input",elementConfig:{type:"text",name:"city",placeholder:"City"},value:"",validation:{required:!0},valid:!1,touched:!1}},mealControls:{name:{elementType:"input",elementConfig:{type:"text",name:"name",placeholder:"Meal Name"},value:a.props.edittingMeal?a.props.edittingMeal.name:"",validation:{required:!0},valid:!1,touched:!1},price:{elementType:"input",elementConfig:{type:"number",name:"price",placeholder:"Meal Price",min:10},value:a.props.edittingMeal?a.props.edittingMeal.price:"",validation:{required:!0,isNumeric:!0},valid:!1,touched:!1},image:{elementType:"input",elementConfig:{type:"file",name:"image",placeholder:"Meal Image"},value:"",files:[],validation:{required:!a.props.edittingMeal},valid:!1,touched:!1}},formIsValid:!1},a.inputChangeHandler=function(e,t,n){var l,o={checkout:"checkoutControls",quantity:"quantityControls",meal:"mealControls"}[n],i=Object(f.b)(a.state[o][t],{value:e.target.value,valid:Object(f.a)(e.target.value,a.state[o][t].validation),touched:!0});i.files&&(i.files=Object(s.a)(e.target.files));var r=Object(f.b)(a.state[o],Object(c.a)({},t,i)),d=!0;for(var u in r)d=r[u].valid&&d;a.setState((l={},Object(c.a)(l,o,r),Object(c.a)(l,"formIsValid",d),l))},a.handleCheckout=function(e){e.preventDefault();var t={};for(var n in a.state.checkoutControls)t[n]=a.state.checkoutControls[n].value,"number"===a.state.checkoutControls[n].elementConfig.type&&(t[n]=Number(a.state.checkoutControls[n].value));a.props.checkout(t).then(function(){return a.props.history.push("/menu")}).catch(function(e){return console.log(e)})},a.addToOrders=function(e){e.preventDefault();var t={};for(var n in a.state.quantityControls)t[n]=a.state.quantityControls[n].value,"number"===a.state.quantityControls[n].elementConfig.type&&(t[n]=Number(a.state.quantityControls[n].value));a.props.addMealToOrders(t)},a.handleMealForm=function(e){e.preventDefault();var t=new FormData;for(var n in a.state.mealControls){var l=null;switch(a.state.mealControls[n].elementConfig.type){case"text":l=a.state.mealControls[n].value;break;case"number":l=Number(a.state.mealControls[n].value);break;case"file":l=a.state.mealControls[n].files[0]?a.state.mealControls[n].files[0]:"";break;default:l=a.state.mealControls[n].value}t.append(n,l),"image"===n&&""===l&&t.delete(n)}a.props.edittingMeal?a.props.editMeal(a.props.edittingMeal.id,t):a.props.addMeal(t)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=Object.keys(this.state.quantityControls).map(function(t){return{id:t,config:e.state.quantityControls[t]}}),a=Object.keys(this.state.checkoutControls).map(function(t){return{id:t,config:e.state.checkoutControls[t]}}),n=Object.keys(this.state.mealControls).map(function(t){return{id:t,config:e.state.mealControls[t]}}),o=this.props.classes,i=l.a.createElement("form",{action:"#",method:"post",id:"checkoutForm",onSubmit:this.handleCheckout},l.a.createElement("div",{className:o.Modal__body},a.map(function(t){return l.a.createElement(_.a,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,touched:t.config.touched,shouldValidate:t.config.validation,changed:function(a){return e.inputChangeHandler(a,t.id,"checkout")}})})),l.a.createElement("div",{className:o.Modal__footer},l.a.createElement("button",{type:"button","data-dismiss":"modal",onClick:this.props.closeModal},"Close"),l.a.createElement("button",{type:"submit"},"Checkout"))),r=this.props.meal?"".concat("http://localhost:7000","/").concat(this.props.meal.imageUrl):null;return{quantity:this.props.meal?l.a.createElement("form",{method:"post",id:"addToOrders",onSubmit:this.addToOrders},l.a.createElement("div",{className:o.Modal__body},l.a.createElement("div",null,l.a.createElement("div",{className:o.Meal__Details__img},l.a.createElement("img",{src:r,alt:"Meal"})),l.a.createElement("div",null,l.a.createElement("p",null,this.props.meal.name),l.a.createElement("p",null,"$",this.props.meal.price))),t.map(function(t){return l.a.createElement(_.a,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,touched:t.config.touched,shouldValidate:t.config.validation,changed:function(a){return e.inputChangeHandler(a,t.id,"quantity")}})})),l.a.createElement("div",{className:o.Modal__footer},l.a.createElement("button",{type:"button","data-dismiss":"modal",onClick:this.props.closeModal},"Close"),l.a.createElement("button",{type:"submit"},"Add"))):null,checkout:i,meal:l.a.createElement("form",{action:"#",method:"post",id:"mealForm",onSubmit:this.handleMealForm},l.a.createElement("div",{className:o.Modal__body},n.map(function(t){return l.a.createElement(_.a,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,touched:t.config.touched,shouldValidate:t.config.validation,changed:function(a){return e.inputChangeHandler(a,t.id,"meal")}})})),l.a.createElement("div",{className:o.Modal__footer},l.a.createElement("button",{type:"button","data-dismiss":"modal",onClick:this.props.closeModal},"Close"),l.a.createElement("button",{type:"submit"},this.props.edittingMeal?"Edit":"Add")))}[this.props.type]}}]),t}(n.Component),v=Object(g.f)(M),b={quantity:"Order",checkout:"Checkout",meal:"Meal Option"};t.a=l.a.memo(function(e){var t=e.show,a=e.type,n=e.close,o=e.meal,c=e.editMeal,s=e.edittingMeal,d=e.addMeal,u=e.orderMeal,m=e.checkout,p=[i.a.Modal,i.a.Hidden];return t&&p.pop(),t?l.a.createElement("div",{className:p.join(" "),role:"dialog"},l.a.createElement("div",{className:i.a.Modal__content},l.a.createElement("div",{className:i.a.Modal__header},l.a.createElement(r,{title:b[a],classes:i.a}),l.a.createElement("button",{type:"button",className:["Btn",i.a.Close].join(" "),"data-dismiss":"modal",onClick:n},"\xd7")),l.a.createElement(v,{classes:i.a,type:a,closeModal:n,meal:o||!1,edittingMeal:s||!1,editMeal:c,addMeal:d,addMealToOrders:u,checkout:m}))):null})},221:function(e,t,a){"use strict";a.r(t);var n=a(2),l=a(15),o=a(16),i=a(18),r=a(17),c=a(19),s=a(0),d=a.n(s),u=a(20),m=a(14),p=a(47),h=a(46),g=a(174),f=a(27),_=a(184),M=a(167),v=function(e){function t(){var e,a;Object(l.a)(this,t);for(var o=arguments.length,c=new Array(o),s=0;s<o;s++)c[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(c)))).state={mealToBeUpdated:null,editingMeal:!1},a.handleAddToMeal=function(e){a.props.onAddMeal(e).then(function(){a.props.onToggleModal()}).catch(function(e){return console.log(e)})},a.handleEditMeal=function(e,t){a.props.onUpdateMeal(e,t).then(function(){a.props.onToggleModal()}).catch(function(e){return console.log(e)})},a.deleteMealOption=function(e){a.props.onDeleteMeal(e).catch(function(e){return console.log(e)})},a.showEditMealModal=function(e){a.setState({mealToBeUpdated:Object(n.a)({},e)}),a.props.onToggleModal()},a}return Object(c.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchMeals()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.meals,n=e.showModal,l=e.onToggleModal;return d.a.createElement(d.a.Fragment,null,d.a.createElement(p.a,{bannerText:"Your Meal Options",overlay:n}),d.a.createElement("main",null,t?d.a.createElement(f.a,null):d.a.createElement(g.a,{type:"mealOptions",meals:a,toggleMealModal:l,removeMeal:this.deleteMealOption,showEditMealModal:this.showEditMealModal})),d.a.createElement(_.a,{type:"meal",show:n,editMeal:this.handleEditMeal,edittingMeal:this.state.mealToBeUpdated,addMeal:this.handleAddToMeal,close:l}),d.a.createElement(h.a,null))}}]),t}(s.Component);t.default=Object(u.b)(function(e){return{loading:e.meal.loading,meals:e.meal.meals,showModal:e.meal.showMealModal}},function(e){return{onFetchMeals:function(){return e(Object(M.f)())},onToggleModal:function(){return e(Object(M.t)())},onAddMeal:function(t){return e(Object(M.d)(t))},onDeleteMeal:function(t){return e(Object(M.e)(t))},onUpdateMeal:function(t,a){return e(Object(M.g)(t,a))}}})(Object(m.f)(v))}}]);
//# sourceMappingURL=7.65f88954.chunk.js.map